import * as $rjs_core from '../../../runtime/core.js';import * as M0 from "../../../runtime/kernel.rkt.js";import * as M1 from "../../../runtime/unsafe.rkt.js";var generic_sort3839 = function(A3840, less_than_p3841, n3842) {var n_by_2_3843 = M1.unsafe_fxrshift(n3842,1);var n_by_2_plus_3844 = M1.unsafe_fx_(n3842,n_by_2_3843);var copying_mergesort3845 = function(Alo3846, Blo3847, n3848) {if (M1.unsafe_fx_eq_(n3848,1)!==false) {var if_res2282 = M1.unsafe_vector_set_bang_(A3840,Blo3847,M1.unsafe_vector_ref(A3840,Alo3846));} else {if (M1.unsafe_fx_eq_(n3848,2)!==false) {var x3849 = M1.unsafe_vector_ref(A3840,Alo3846);var y3850 = M1.unsafe_vector_ref(A3840,M1.unsafe_fx_plus_(Alo3846,1));if (false!==false) {var if_res2267 = less_than_p3841(false(y3850),false(x3849));} else {var if_res2267 = less_than_p3841(y3850,x3849);}if (if_res2267!==false) {M1.unsafe_vector_set_bang_(A3840,Blo3847,y3850);var if_res2268 = M1.unsafe_vector_set_bang_(A3840,M1.unsafe_fx_plus_(Blo3847,1),x3849);} else {M1.unsafe_vector_set_bang_(A3840,Blo3847,x3849);var if_res2268 = M1.unsafe_vector_set_bang_(A3840,M1.unsafe_fx_plus_(Blo3847,1),y3850);}var if_res2281 = if_res2268;} else {if (M1.unsafe_fx_lt_(n3848,16)!==false) {M1.unsafe_vector_set_bang_(A3840,Blo3847,M1.unsafe_vector_ref(A3840,Alo3846));var iloop3851 = function(i3852) {if (M1.unsafe_fx_lt_(i3852,n3848)!==false) {var ref_i3853 = M1.unsafe_vector_ref(A3840,M1.unsafe_fx_plus_(Alo3846,i3852));var jloop3854 = function(j3855) {var ref_j_13856 = M1.unsafe_vector_ref(A3840,M1.unsafe_fx_(j3855,1));if (M1.unsafe_fx_lt_(Blo3847,j3855)!==false) {if (false!==false) {var if_res2269 = less_than_p3841(false(ref_i3853),false(ref_j_13856));} else {var if_res2269 = less_than_p3841(ref_i3853,ref_j_13856);}var if_res2270 = if_res2269;} else {var if_res2270 = false;}if (if_res2270!==false) {M1.unsafe_vector_set_bang_(A3840,j3855,ref_j_13856);var if_res2271 = jloop3854(M1.unsafe_fx_(j3855,1));} else {M1.unsafe_vector_set_bang_(A3840,j3855,ref_i3853);var if_res2271 = iloop3851(M1.unsafe_fx_plus_(i3852,1));}return if_res2271;};var if_res2272 = jloop3854(M1.unsafe_fx_plus_(Blo3847,i3852));} else {var if_res2272 = M0.rvoid();}return if_res2272;};var if_res2280 = iloop3851(1);} else {var n_by_2_3857 = M1.unsafe_fxrshift(n3848,1);var n_by_2_plus_3858 = M1.unsafe_fx_(n3848,n_by_2_3857);var Amid13859 = M1.unsafe_fx_plus_(Alo3846,n_by_2_3857);var Amid23860 = M1.unsafe_fx_plus_(Alo3846,n_by_2_plus_3858);var Bmid13861 = M1.unsafe_fx_plus_(Blo3847,n_by_2_3857);copying_mergesort3845(Amid13859,Bmid13861,n_by_2_plus_3858);copying_mergesort3845(Alo3846,Amid23860,n_by_2_3857);var b23862 = M1.unsafe_fx_plus_(Blo3847,n3848);var loop3863 = function(a13864, b13865, c13866) {var x3867 = M1.unsafe_vector_ref(A3840,a13864);var y3868 = M1.unsafe_vector_ref(A3840,b13865);if (true!==false) {if (false!==false) {var if_res2273 = less_than_p3841(false(y3868),false(x3867));} else {var if_res2273 = less_than_p3841(y3868,x3867);}var if_res2275 = M0.not(if_res2273);} else {if (false!==false) {var if_res2274 = less_than_p3841(false(x3867),false(y3868));} else {var if_res2274 = less_than_p3841(x3867,y3868);}var if_res2275 = if_res2274;}if (if_res2275!==false) {M1.unsafe_vector_set_bang_(A3840,c13866,x3867);var a13869 = M1.unsafe_fx_plus_(a13864,1);var c13870 = M1.unsafe_fx_plus_(c13866,1);if (M1.unsafe_fx_lt_(c13870,b13865)!==false) {var if_res2276 = loop3863(a13869,b13865,c13870);} else {var if_res2276 = M0.rvoid();}var if_res2279 = if_res2276;} else {M1.unsafe_vector_set_bang_(A3840,c13866,y3868);var b13871 = M1.unsafe_fx_plus_(b13865,1);var c13872 = M1.unsafe_fx_plus_(c13866,1);if (M1.unsafe_fx_lt__eq_(b23862,b13871)!==false) {var loop3873 = function(a13874, c13875) {if (M1.unsafe_fx_lt_(c13875,b13871)!==false) {M1.unsafe_vector_set_bang_(A3840,c13875,M1.unsafe_vector_ref(A3840,a13874));var if_res2277 = loop3873(M1.unsafe_fx_plus_(a13874,1),M1.unsafe_fx_plus_(c13875,1));} else {var if_res2277 = M0.rvoid();}return if_res2277;};var if_res2278 = loop3873(a13864,c13872);} else {var if_res2278 = loop3863(a13864,b13871,c13872);}var if_res2279 = if_res2278;}return if_res2279;};var if_res2280 = loop3863(Amid23860,Bmid13861,Blo3847);}var if_res2281 = if_res2280;}var if_res2282 = if_res2281;}return if_res2282;};var Alo3876 = 0;var Amid13877 = n_by_2_3843;var Amid23878 = n_by_2_plus_3844;var Ahi3879 = n3842;var B1lo3880 = n3842;copying_mergesort3845(Amid13877,B1lo3880,n_by_2_plus_3844);if (M0.zero_p(n_by_2_3843)!==false) {var if_res2283 = M0.rvoid();} else {var if_res2283 = copying_mergesort3845(Alo3876,Amid23878,n_by_2_3843);}if_res2283;var b23881 = Ahi3879;var loop3882 = function(a13883, b13884, c13885) {var x3886 = M1.unsafe_vector_ref(A3840,a13883);var y3887 = M1.unsafe_vector_ref(A3840,b13884);if (false!==false) {if (false!==false) {var if_res2284 = less_than_p3841(false(y3887),false(x3886));} else {var if_res2284 = less_than_p3841(y3887,x3886);}var if_res2286 = M0.not(if_res2284);} else {if (false!==false) {var if_res2285 = less_than_p3841(false(x3886),false(y3887));} else {var if_res2285 = less_than_p3841(x3886,y3887);}var if_res2286 = if_res2285;}if (if_res2286!==false) {M1.unsafe_vector_set_bang_(A3840,c13885,x3886);var a13888 = M1.unsafe_fx_plus_(a13883,1);var c13889 = M1.unsafe_fx_plus_(c13885,1);if (M1.unsafe_fx_lt_(c13889,b13884)!==false) {var if_res2287 = loop3882(a13888,b13884,c13889);} else {var if_res2287 = M0.rvoid();}var if_res2290 = if_res2287;} else {M1.unsafe_vector_set_bang_(A3840,c13885,y3887);var b13890 = M1.unsafe_fx_plus_(b13884,1);var c13891 = M1.unsafe_fx_plus_(c13885,1);if (M1.unsafe_fx_lt__eq_(b23881,b13890)!==false) {var loop3892 = function(a13893, c13894) {if (M1.unsafe_fx_lt_(c13894,b13890)!==false) {M1.unsafe_vector_set_bang_(A3840,c13894,M1.unsafe_vector_ref(A3840,a13893));var if_res2288 = loop3892(M1.unsafe_fx_plus_(a13893,1),M1.unsafe_fx_plus_(c13894,1));} else {var if_res2288 = M0.rvoid();}return if_res2288;};var if_res2289 = loop3892(a13883,c13891);} else {var if_res2289 = loop3882(a13883,b13890,c13891);}var if_res2290 = if_res2289;}return if_res2290;};return loop3882(B1lo3880,Amid23878,Alo3876);};var generic_sort_by_key3895 = function(A3896, less_than_p3897, n3898, key3899) {var n_by_2_3900 = M1.unsafe_fxrshift(n3898,1);var n_by_2_plus_3901 = M1.unsafe_fx_(n3898,n_by_2_3900);var copying_mergesort3902 = function(Alo3903, Blo3904, n3905) {if (M1.unsafe_fx_eq_(n3905,1)!==false) {var if_res2306 = M1.unsafe_vector_set_bang_(A3896,Blo3904,M1.unsafe_vector_ref(A3896,Alo3903));} else {if (M1.unsafe_fx_eq_(n3905,2)!==false) {var x3906 = M1.unsafe_vector_ref(A3896,Alo3903);var y3907 = M1.unsafe_vector_ref(A3896,M1.unsafe_fx_plus_(Alo3903,1));if (key3899!==false) {var if_res2291 = less_than_p3897(key3899(y3907),key3899(x3906));} else {var if_res2291 = less_than_p3897(y3907,x3906);}if (if_res2291!==false) {M1.unsafe_vector_set_bang_(A3896,Blo3904,y3907);var if_res2292 = M1.unsafe_vector_set_bang_(A3896,M1.unsafe_fx_plus_(Blo3904,1),x3906);} else {M1.unsafe_vector_set_bang_(A3896,Blo3904,x3906);var if_res2292 = M1.unsafe_vector_set_bang_(A3896,M1.unsafe_fx_plus_(Blo3904,1),y3907);}var if_res2305 = if_res2292;} else {if (M1.unsafe_fx_lt_(n3905,16)!==false) {M1.unsafe_vector_set_bang_(A3896,Blo3904,M1.unsafe_vector_ref(A3896,Alo3903));var iloop3908 = function(i3909) {if (M1.unsafe_fx_lt_(i3909,n3905)!==false) {var ref_i3910 = M1.unsafe_vector_ref(A3896,M1.unsafe_fx_plus_(Alo3903,i3909));var jloop3911 = function(j3912) {var ref_j_13913 = M1.unsafe_vector_ref(A3896,M1.unsafe_fx_(j3912,1));if (M1.unsafe_fx_lt_(Blo3904,j3912)!==false) {if (key3899!==false) {var if_res2293 = less_than_p3897(key3899(ref_i3910),key3899(ref_j_13913));} else {var if_res2293 = less_than_p3897(ref_i3910,ref_j_13913);}var if_res2294 = if_res2293;} else {var if_res2294 = false;}if (if_res2294!==false) {M1.unsafe_vector_set_bang_(A3896,j3912,ref_j_13913);var if_res2295 = jloop3911(M1.unsafe_fx_(j3912,1));} else {M1.unsafe_vector_set_bang_(A3896,j3912,ref_i3910);var if_res2295 = iloop3908(M1.unsafe_fx_plus_(i3909,1));}return if_res2295;};var if_res2296 = jloop3911(M1.unsafe_fx_plus_(Blo3904,i3909));} else {var if_res2296 = M0.rvoid();}return if_res2296;};var if_res2304 = iloop3908(1);} else {var n_by_2_3914 = M1.unsafe_fxrshift(n3905,1);var n_by_2_plus_3915 = M1.unsafe_fx_(n3905,n_by_2_3914);var Amid13916 = M1.unsafe_fx_plus_(Alo3903,n_by_2_3914);var Amid23917 = M1.unsafe_fx_plus_(Alo3903,n_by_2_plus_3915);var Bmid13918 = M1.unsafe_fx_plus_(Blo3904,n_by_2_3914);copying_mergesort3902(Amid13916,Bmid13918,n_by_2_plus_3915);copying_mergesort3902(Alo3903,Amid23917,n_by_2_3914);var b23919 = M1.unsafe_fx_plus_(Blo3904,n3905);var loop3920 = function(a13921, b13922, c13923) {var x3924 = M1.unsafe_vector_ref(A3896,a13921);var y3925 = M1.unsafe_vector_ref(A3896,b13922);if (true!==false) {if (key3899!==false) {var if_res2297 = less_than_p3897(key3899(y3925),key3899(x3924));} else {var if_res2297 = less_than_p3897(y3925,x3924);}var if_res2299 = M0.not(if_res2297);} else {if (key3899!==false) {var if_res2298 = less_than_p3897(key3899(x3924),key3899(y3925));} else {var if_res2298 = less_than_p3897(x3924,y3925);}var if_res2299 = if_res2298;}if (if_res2299!==false) {M1.unsafe_vector_set_bang_(A3896,c13923,x3924);var a13926 = M1.unsafe_fx_plus_(a13921,1);var c13927 = M1.unsafe_fx_plus_(c13923,1);if (M1.unsafe_fx_lt_(c13927,b13922)!==false) {var if_res2300 = loop3920(a13926,b13922,c13927);} else {var if_res2300 = M0.rvoid();}var if_res2303 = if_res2300;} else {M1.unsafe_vector_set_bang_(A3896,c13923,y3925);var b13928 = M1.unsafe_fx_plus_(b13922,1);var c13929 = M1.unsafe_fx_plus_(c13923,1);if (M1.unsafe_fx_lt__eq_(b23919,b13928)!==false) {var loop3930 = function(a13931, c13932) {if (M1.unsafe_fx_lt_(c13932,b13928)!==false) {M1.unsafe_vector_set_bang_(A3896,c13932,M1.unsafe_vector_ref(A3896,a13931));var if_res2301 = loop3930(M1.unsafe_fx_plus_(a13931,1),M1.unsafe_fx_plus_(c13932,1));} else {var if_res2301 = M0.rvoid();}return if_res2301;};var if_res2302 = loop3930(a13921,c13929);} else {var if_res2302 = loop3920(a13921,b13928,c13929);}var if_res2303 = if_res2302;}return if_res2303;};var if_res2304 = loop3920(Amid23917,Bmid13918,Blo3904);}var if_res2305 = if_res2304;}var if_res2306 = if_res2305;}return if_res2306;};var Alo3933 = 0;var Amid13934 = n_by_2_3900;var Amid23935 = n_by_2_plus_3901;var Ahi3936 = n3898;var B1lo3937 = n3898;copying_mergesort3902(Amid13934,B1lo3937,n_by_2_plus_3901);if (M0.zero_p(n_by_2_3900)!==false) {var if_res2307 = M0.rvoid();} else {var if_res2307 = copying_mergesort3902(Alo3933,Amid23935,n_by_2_3900);}if_res2307;var b23938 = Ahi3936;var loop3939 = function(a13940, b13941, c13942) {var x3943 = M1.unsafe_vector_ref(A3896,a13940);var y3944 = M1.unsafe_vector_ref(A3896,b13941);if (false!==false) {if (key3899!==false) {var if_res2308 = less_than_p3897(key3899(y3944),key3899(x3943));} else {var if_res2308 = less_than_p3897(y3944,x3943);}var if_res2310 = M0.not(if_res2308);} else {if (key3899!==false) {var if_res2309 = less_than_p3897(key3899(x3943),key3899(y3944));} else {var if_res2309 = less_than_p3897(x3943,y3944);}var if_res2310 = if_res2309;}if (if_res2310!==false) {M1.unsafe_vector_set_bang_(A3896,c13942,x3943);var a13945 = M1.unsafe_fx_plus_(a13940,1);var c13946 = M1.unsafe_fx_plus_(c13942,1);if (M1.unsafe_fx_lt_(c13946,b13941)!==false) {var if_res2311 = loop3939(a13945,b13941,c13946);} else {var if_res2311 = M0.rvoid();}var if_res2314 = if_res2311;} else {M1.unsafe_vector_set_bang_(A3896,c13942,y3944);var b13947 = M1.unsafe_fx_plus_(b13941,1);var c13948 = M1.unsafe_fx_plus_(c13942,1);if (M1.unsafe_fx_lt__eq_(b23938,b13947)!==false) {var loop3949 = function(a13950, c13951) {if (M1.unsafe_fx_lt_(c13951,b13947)!==false) {M1.unsafe_vector_set_bang_(A3896,c13951,M1.unsafe_vector_ref(A3896,a13950));var if_res2312 = loop3949(M1.unsafe_fx_plus_(a13950,1),M1.unsafe_fx_plus_(c13951,1));} else {var if_res2312 = M0.rvoid();}return if_res2312;};var if_res2313 = loop3949(a13940,c13948);} else {var if_res2313 = loop3939(a13940,b13947,c13948);}var if_res2314 = if_res2313;}return if_res2314;};return loop3939(B1lo3937,Amid23935,Alo3933);};var cl2422 = function(lst3952, less_than_p3953) {var n3954 = M0.length(lst3952);if (M1.unsafe_fx_eq_(n3954,0)!==false) {var if_res2446 = lst3952;} else {if (false!==false) {var vec3955 = M0.make_vector(n3954+M0.ceiling(n3954/2));var loop3956 = function(i3957, lst3958) {if (M0.pair_p(lst3958)!==false) {var x3959 = M0.car(lst3958);M1.unsafe_vector_set_bang_(vec3955,i3957,M0.cons(false(x3959),x3959));var if_res2426 = loop3956(M1.unsafe_fx_plus_(i3957,1),M0.cdr(lst3958));} else {var if_res2426 = M0.rvoid();}return if_res2426;};loop3956(0,lst3952);generic_sort_by_key3895(vec3955,less_than_p3953,n3954,M1.unsafe_car);var loop3960 = function(i3961, r3962) {var i3963 = M1.unsafe_fx_(i3961,1);if (M1.unsafe_fx_lt_(i3963,0)!==false) {var if_res2427 = r3962;} else {var if_res2427 = loop3960(i3963,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec3955,i3963)),r3962));}return if_res2427;};var if_res2445 = loop3960(n3954,$rjs_core.Pair.makeList());} else {var loop3964 = function(last3965, next3966) {var or_part3967 = M0.null_p(next3966);if (or_part3967!==false) {var if_res2430 = or_part3967;} else {if (false!==false) {var if_res2428 = less_than_p3953(false(M1.unsafe_car(next3966)),false(last3965));} else {var if_res2428 = less_than_p3953(M1.unsafe_car(next3966),last3965);}if (M0.not(if_res2428)!==false) {var if_res2429 = loop3964(M1.unsafe_car(next3966),M1.unsafe_cdr(next3966));} else {var if_res2429 = false;}var if_res2430 = if_res2429;}return if_res2430;};if (loop3964(M0.car(lst3952),M0.cdr(lst3952))!==false) {var if_res2444 = lst3952;} else {if (M1.unsafe_fx_lt__eq_(n3954,3)!==false) {if (M1.unsafe_fx_eq_(n3954,1)!==false) {var if_res2440 = lst3952;} else {if (M1.unsafe_fx_eq_(n3954,2)!==false) {var if_res2439 = M0.list(M0.cadr(lst3952),M0.car(lst3952));} else {var a3968 = M0.car(lst3952);var b3969 = M0.cadr(lst3952);var c3970 = M0.caddr(lst3952);if (false!==false) {var if_res2431 = less_than_p3953(false(b3969),false(a3968));} else {var if_res2431 = less_than_p3953(b3969,a3968);}if (if_res2431!==false) {if (false!==false) {var if_res2432 = less_than_p3953(false(c3970),false(b3969));} else {var if_res2432 = less_than_p3953(c3970,b3969);}if (if_res2432!==false) {var if_res2435 = M0.list(c3970,b3969,a3968);} else {if (false!==false) {var if_res2433 = less_than_p3953(false(c3970),false(a3968));} else {var if_res2433 = less_than_p3953(c3970,a3968);}if (if_res2433!==false) {var if_res2434 = M0.list(b3969,c3970,a3968);} else {var if_res2434 = M0.list(b3969,a3968,c3970);}var if_res2435 = if_res2434;}var if_res2438 = if_res2435;} else {if (false!==false) {var if_res2436 = less_than_p3953(false(c3970),false(a3968));} else {var if_res2436 = less_than_p3953(c3970,a3968);}if (if_res2436!==false) {var if_res2437 = M0.list(c3970,a3968,b3969);} else {var if_res2437 = M0.list(a3968,c3970,b3969);}var if_res2438 = if_res2437;}var if_res2439 = if_res2438;}var if_res2440 = if_res2439;}var if_res2443 = if_res2440;} else {var vec3971 = M0.make_vector(n3954+M0.ceiling(n3954/2));var loop3972 = function(i3973, lst3974) {if (M0.pair_p(lst3974)!==false) {M0.vector_set_bang_(vec3971,i3973,M0.car(lst3974));var if_res2441 = loop3972(M0.add1(i3973),M0.cdr(lst3974));} else {var if_res2441 = M0.rvoid();}return if_res2441;};loop3972(0,lst3952);generic_sort3839(vec3971,less_than_p3953,n3954);var loop3975 = function(i3976, r3977) {var i3978 = M0.sub1(i3976);if (M0.__lt_(i3978,0)!==false) {var if_res2442 = r3977;} else {var if_res2442 = loop3975(i3978,M0.cons(M0.vector_ref(vec3971,i3978),r3977));}return if_res2442;};var if_res2443 = loop3975(n3954,$rjs_core.Pair.makeList());}var if_res2444 = if_res2443;}var if_res2445 = if_res2444;}var if_res2446 = if_res2445;}return if_res2446;};var cl2423 = function(lst3979, less_than_p3980, getkey3981) {if (getkey3981!==false) {var if_res2447 = M0.not(M0.eq_p(M0.values,getkey3981));} else {var if_res2447 = false;}if (if_res2447!==false) {var if_res2448 = sort(lst3979,less_than_p3980,getkey3981,false);} else {var if_res2448 = sort(lst3979,less_than_p3980);}return if_res2448;};var cl2424 = function(lst3982, less_than_p3983, getkey3984, cache_keys_p3985) {if (getkey3984!==false) {var if_res2449 = M0.not(M0.eq_p(M0.values,getkey3984));} else {var if_res2449 = false;}if (if_res2449!==false) {var n3986 = M0.length(lst3982);if (M1.unsafe_fx_eq_(n3986,0)!==false) {var if_res2470 = lst3982;} else {if (cache_keys_p3985!==false) {var vec3987 = M0.make_vector(n3986+M0.ceiling(n3986/2));var loop3988 = function(i3989, lst3990) {if (M0.pair_p(lst3990)!==false) {var x3991 = M0.car(lst3990);M1.unsafe_vector_set_bang_(vec3987,i3989,M0.cons(getkey3984(x3991),x3991));var if_res2450 = loop3988(M1.unsafe_fx_plus_(i3989,1),M0.cdr(lst3990));} else {var if_res2450 = M0.rvoid();}return if_res2450;};loop3988(0,lst3982);generic_sort_by_key3895(vec3987,less_than_p3983,n3986,M1.unsafe_car);var loop3992 = function(i3993, r3994) {var i3995 = M1.unsafe_fx_(i3993,1);if (M1.unsafe_fx_lt_(i3995,0)!==false) {var if_res2451 = r3994;} else {var if_res2451 = loop3992(i3995,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec3987,i3995)),r3994));}return if_res2451;};var if_res2469 = loop3992(n3986,$rjs_core.Pair.makeList());} else {var loop3996 = function(last3997, next3998) {var or_part3999 = M0.null_p(next3998);if (or_part3999!==false) {var if_res2454 = or_part3999;} else {if (getkey3984!==false) {var if_res2452 = less_than_p3983(getkey3984(M1.unsafe_car(next3998)),getkey3984(last3997));} else {var if_res2452 = less_than_p3983(M1.unsafe_car(next3998),last3997);}if (M0.not(if_res2452)!==false) {var if_res2453 = loop3996(M1.unsafe_car(next3998),M1.unsafe_cdr(next3998));} else {var if_res2453 = false;}var if_res2454 = if_res2453;}return if_res2454;};if (loop3996(M0.car(lst3982),M0.cdr(lst3982))!==false) {var if_res2468 = lst3982;} else {if (M1.unsafe_fx_lt__eq_(n3986,3)!==false) {if (M1.unsafe_fx_eq_(n3986,1)!==false) {var if_res2464 = lst3982;} else {if (M1.unsafe_fx_eq_(n3986,2)!==false) {var if_res2463 = M0.list(M0.cadr(lst3982),M0.car(lst3982));} else {var a4000 = M0.car(lst3982);var b4001 = M0.cadr(lst3982);var c4002 = M0.caddr(lst3982);if (getkey3984!==false) {var if_res2455 = less_than_p3983(getkey3984(b4001),getkey3984(a4000));} else {var if_res2455 = less_than_p3983(b4001,a4000);}if (if_res2455!==false) {if (getkey3984!==false) {var if_res2456 = less_than_p3983(getkey3984(c4002),getkey3984(b4001));} else {var if_res2456 = less_than_p3983(c4002,b4001);}if (if_res2456!==false) {var if_res2459 = M0.list(c4002,b4001,a4000);} else {if (getkey3984!==false) {var if_res2457 = less_than_p3983(getkey3984(c4002),getkey3984(a4000));} else {var if_res2457 = less_than_p3983(c4002,a4000);}if (if_res2457!==false) {var if_res2458 = M0.list(b4001,c4002,a4000);} else {var if_res2458 = M0.list(b4001,a4000,c4002);}var if_res2459 = if_res2458;}var if_res2462 = if_res2459;} else {if (getkey3984!==false) {var if_res2460 = less_than_p3983(getkey3984(c4002),getkey3984(a4000));} else {var if_res2460 = less_than_p3983(c4002,a4000);}if (if_res2460!==false) {var if_res2461 = M0.list(c4002,a4000,b4001);} else {var if_res2461 = M0.list(a4000,c4002,b4001);}var if_res2462 = if_res2461;}var if_res2463 = if_res2462;}var if_res2464 = if_res2463;}var if_res2467 = if_res2464;} else {var vec4003 = M0.make_vector(n3986+M0.ceiling(n3986/2));var loop4004 = function(i4005, lst4006) {if (M0.pair_p(lst4006)!==false) {M0.vector_set_bang_(vec4003,i4005,M0.car(lst4006));var if_res2465 = loop4004(M0.add1(i4005),M0.cdr(lst4006));} else {var if_res2465 = M0.rvoid();}return if_res2465;};loop4004(0,lst3982);generic_sort_by_key3895(vec4003,less_than_p3983,n3986,getkey3984);var loop4007 = function(i4008, r4009) {var i4010 = M0.sub1(i4008);if (M0.__lt_(i4010,0)!==false) {var if_res2466 = r4009;} else {var if_res2466 = loop4007(i4010,M0.cons(M0.vector_ref(vec4003,i4010),r4009));}return if_res2466;};var if_res2467 = loop4007(n3986,$rjs_core.Pair.makeList());}var if_res2468 = if_res2467;}var if_res2469 = if_res2468;}var if_res2470 = if_res2469;}var if_res2471 = if_res2470;} else {var if_res2471 = sort(lst3982,less_than_p3983);}return if_res2471;};var temp2472 = $rjs_core.attachProcedureArity(function() {var fixed_lam2425 = {'2':cl2422,'3':cl2423,'4':cl2424}[arguments.length];if (fixed_lam2425!==undefined) {return fixed_lam2425.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[2,3,4]);var cl2368 = function(vec4011, less_than_p4012, start4013, end4014) {var n4015 = end4014-start4013;if (true!==false) {var if_res2371 = M0.make_vector(n4015);} else {var if_res2371 = vec4011;}var dst_vec4016 = if_res2371;if (true!==false) {var if_res2372 = 0;} else {var if_res2372 = start4013;}var dst_start4017 = if_res2372;if (M1.unsafe_fx_eq_(n4015,0)!==false) {var if_res2393 = M0.rvoid();} else {if (false!==false) {var work_vec4018 = M0.make_vector(n4015+M0.ceiling(n4015/2),true);var loop4019 = function(i4020) {if (M1.unsafe_fx_lt_(i4020,n4015)!==false) {var x4021 = M1.unsafe_vector_ref(vec4011,M1.unsafe_fx_plus_(i4020,start4013));M1.unsafe_vector_set_bang_(work_vec4018,i4020,M0.cons(false(x4021),x4021));var if_res2373 = loop4019(M1.unsafe_fx_plus_(i4020,1));} else {var if_res2373 = M0.rvoid();}return if_res2373;};loop4019(0);generic_sort_by_key3895(work_vec4018,less_than_p4012,n4015,M1.unsafe_car);var loop4022 = function(i4023) {if (M1.unsafe_fx_lt_(i4023,n4015)!==false) {M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(i4023,dst_start4017),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec4018,i4023)));var if_res2374 = loop4022(M1.unsafe_fx_plus_(i4023,1));} else {var if_res2374 = M0.rvoid();}return if_res2374;};var if_res2392 = loop4022(0);} else {var loop4024 = function(prev_val4025, next_index4026) {var or_part4027 = M1.unsafe_fx_eq_(next_index4026,end4014);if (or_part4027!==false) {var if_res2377 = or_part4027;} else {var next_val4028 = M1.unsafe_vector_ref(vec4011,next_index4026);if (false!==false) {var if_res2375 = less_than_p4012(false(next_val4028),false(prev_val4025));} else {var if_res2375 = less_than_p4012(next_val4028,prev_val4025);}if (M0.not(if_res2375)!==false) {var if_res2376 = loop4024(next_val4028,M1.unsafe_fx_plus_(next_index4026,1));} else {var if_res2376 = false;}var if_res2377 = if_res2376;}return if_res2377;};if (loop4024(M1.unsafe_vector_ref(vec4011,start4013),M1.unsafe_fx_plus_(start4013,1))!==false) {if (true!==false) {var if_res2378 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4016,dst_start4017,vec4011,start4013,end4014);} else {var if_res2378 = M0.rvoid();}var if_res2391 = if_res2378;} else {if (M1.unsafe_fx_lt__eq_(n4015,3)!==false) {if (true!==false) {var if_res2379 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4016,dst_start4017,vec4011,start4013,end4014);} else {var if_res2379 = M0.rvoid();}if_res2379;if (M1.unsafe_fx_eq_(n4015,1)!==false) {var if_res2389 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n4015,2)!==false) {var tmp4029 = M1.unsafe_vector_ref(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0));M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0),M1.unsafe_vector_ref(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1)));var if_res2388 = M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1),tmp4029);} else {var a4030 = M1.unsafe_vector_ref(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0));var b4031 = M1.unsafe_vector_ref(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1));var c4032 = M1.unsafe_vector_ref(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,2));if (false!==false) {var if_res2380 = less_than_p4012(false(b4031),false(a4030));} else {var if_res2380 = less_than_p4012(b4031,a4030);}if (if_res2380!==false) {if (false!==false) {var if_res2381 = less_than_p4012(false(c4032),false(b4031));} else {var if_res2381 = less_than_p4012(c4032,b4031);}if (if_res2381!==false) {M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0),c4032);var if_res2384 = M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,2),a4030);} else {if (false!==false) {var if_res2382 = less_than_p4012(false(c4032),false(a4030));} else {var if_res2382 = less_than_p4012(c4032,a4030);}if (if_res2382!==false) {M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0),b4031);M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1),c4032);var if_res2383 = M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,2),a4030);} else {M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0),b4031);var if_res2383 = M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1),a4030);}var if_res2384 = if_res2383;}var if_res2387 = if_res2384;} else {if (false!==false) {var if_res2385 = less_than_p4012(false(c4032),false(a4030));} else {var if_res2385 = less_than_p4012(c4032,a4030);}if (if_res2385!==false) {M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,0),c4032);M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1),a4030);var if_res2386 = M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,2),b4031);} else {M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,1),c4032);var if_res2386 = M1.unsafe_vector_set_bang_(dst_vec4016,M1.unsafe_fx_plus_(dst_start4017,2),b4031);}var if_res2387 = if_res2386;}var if_res2388 = if_res2387;}var if_res2389 = if_res2388;}var if_res2390 = if_res2389;} else {var work_vec4033 = M0.make_vector(n4015+M0.ceiling(n4015/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec4033,0,vec4011,start4013,end4014);generic_sort3839(work_vec4033,less_than_p4012,n4015);var if_res2390 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4016,dst_start4017,work_vec4033,0,n4015);}var if_res2391 = if_res2390;}var if_res2392 = if_res2391;}var if_res2393 = if_res2392;}if_res2393;if (true!==false) {var if_res2394 = dst_vec4016;} else {var if_res2394 = M0.rvoid();}return if_res2394;};var cl2369 = function(vec4034, less_than_p4035, start4036, end4037, getkey4038, cache_keys_p4039) {if (getkey4038!==false) {var if_res2395 = M0.not(M0.eq_p(M0.values,getkey4038));} else {var if_res2395 = false;}if (if_res2395!==false) {var n4040 = end4037-start4036;if (true!==false) {var if_res2396 = M0.make_vector(n4040);} else {var if_res2396 = vec4034;}var dst_vec4041 = if_res2396;if (true!==false) {var if_res2397 = 0;} else {var if_res2397 = start4036;}var dst_start4042 = if_res2397;if (M1.unsafe_fx_eq_(n4040,0)!==false) {var if_res2418 = M0.rvoid();} else {if (cache_keys_p4039!==false) {var work_vec4043 = M0.make_vector(n4040+M0.ceiling(n4040/2),true);var loop4044 = function(i4045) {if (M1.unsafe_fx_lt_(i4045,n4040)!==false) {var x4046 = M1.unsafe_vector_ref(vec4034,M1.unsafe_fx_plus_(i4045,start4036));M1.unsafe_vector_set_bang_(work_vec4043,i4045,M0.cons(getkey4038(x4046),x4046));var if_res2398 = loop4044(M1.unsafe_fx_plus_(i4045,1));} else {var if_res2398 = M0.rvoid();}return if_res2398;};loop4044(0);generic_sort_by_key3895(work_vec4043,less_than_p4035,n4040,M1.unsafe_car);var loop4047 = function(i4048) {if (M1.unsafe_fx_lt_(i4048,n4040)!==false) {M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(i4048,dst_start4042),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec4043,i4048)));var if_res2399 = loop4047(M1.unsafe_fx_plus_(i4048,1));} else {var if_res2399 = M0.rvoid();}return if_res2399;};var if_res2417 = loop4047(0);} else {var loop4049 = function(prev_val4050, next_index4051) {var or_part4052 = M1.unsafe_fx_eq_(next_index4051,end4037);if (or_part4052!==false) {var if_res2402 = or_part4052;} else {var next_val4053 = M1.unsafe_vector_ref(vec4034,next_index4051);if (getkey4038!==false) {var if_res2400 = less_than_p4035(getkey4038(next_val4053),getkey4038(prev_val4050));} else {var if_res2400 = less_than_p4035(next_val4053,prev_val4050);}if (M0.not(if_res2400)!==false) {var if_res2401 = loop4049(next_val4053,M1.unsafe_fx_plus_(next_index4051,1));} else {var if_res2401 = false;}var if_res2402 = if_res2401;}return if_res2402;};if (loop4049(M1.unsafe_vector_ref(vec4034,start4036),M1.unsafe_fx_plus_(start4036,1))!==false) {if (true!==false) {var if_res2403 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4041,dst_start4042,vec4034,start4036,end4037);} else {var if_res2403 = M0.rvoid();}var if_res2416 = if_res2403;} else {if (M1.unsafe_fx_lt__eq_(n4040,3)!==false) {if (true!==false) {var if_res2404 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4041,dst_start4042,vec4034,start4036,end4037);} else {var if_res2404 = M0.rvoid();}if_res2404;if (M1.unsafe_fx_eq_(n4040,1)!==false) {var if_res2414 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n4040,2)!==false) {var tmp4054 = M1.unsafe_vector_ref(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0));M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0),M1.unsafe_vector_ref(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1)));var if_res2413 = M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1),tmp4054);} else {var a4055 = M1.unsafe_vector_ref(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0));var b4056 = M1.unsafe_vector_ref(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1));var c4057 = M1.unsafe_vector_ref(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,2));if (getkey4038!==false) {var if_res2405 = less_than_p4035(getkey4038(b4056),getkey4038(a4055));} else {var if_res2405 = less_than_p4035(b4056,a4055);}if (if_res2405!==false) {if (getkey4038!==false) {var if_res2406 = less_than_p4035(getkey4038(c4057),getkey4038(b4056));} else {var if_res2406 = less_than_p4035(c4057,b4056);}if (if_res2406!==false) {M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0),c4057);var if_res2409 = M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,2),a4055);} else {if (getkey4038!==false) {var if_res2407 = less_than_p4035(getkey4038(c4057),getkey4038(a4055));} else {var if_res2407 = less_than_p4035(c4057,a4055);}if (if_res2407!==false) {M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0),b4056);M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1),c4057);var if_res2408 = M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,2),a4055);} else {M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0),b4056);var if_res2408 = M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1),a4055);}var if_res2409 = if_res2408;}var if_res2412 = if_res2409;} else {if (getkey4038!==false) {var if_res2410 = less_than_p4035(getkey4038(c4057),getkey4038(a4055));} else {var if_res2410 = less_than_p4035(c4057,a4055);}if (if_res2410!==false) {M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,0),c4057);M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1),a4055);var if_res2411 = M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,2),b4056);} else {M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,1),c4057);var if_res2411 = M1.unsafe_vector_set_bang_(dst_vec4041,M1.unsafe_fx_plus_(dst_start4042,2),b4056);}var if_res2412 = if_res2411;}var if_res2413 = if_res2412;}var if_res2414 = if_res2413;}var if_res2415 = if_res2414;} else {var work_vec4058 = M0.make_vector(n4040+M0.ceiling(n4040/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec4058,0,vec4034,start4036,end4037);generic_sort_by_key3895(work_vec4058,less_than_p4035,n4040,getkey4038);var if_res2415 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4041,dst_start4042,work_vec4058,0,n4040);}var if_res2416 = if_res2415;}var if_res2417 = if_res2416;}var if_res2418 = if_res2417;}if_res2418;if (true!==false) {var if_res2419 = dst_vec4041;} else {var if_res2419 = M0.rvoid();}var if_res2420 = if_res2419;} else {var if_res2420 = vector_sort(vec4034,less_than_p4035,start4036,end4037);}return if_res2420;};var temp2421 = $rjs_core.attachProcedureArity(function() {var fixed_lam2370 = {'4':cl2368,'6':cl2369}[arguments.length];if (fixed_lam2370!==undefined) {return fixed_lam2370.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]);var cl2315 = function(vec4059, less_than_p4060, start4061, end4062) {var n4063 = end4062-start4061;if (false!==false) {var if_res2318 = M0.make_vector(n4063);} else {var if_res2318 = vec4059;}var dst_vec4064 = if_res2318;if (false!==false) {var if_res2319 = 0;} else {var if_res2319 = start4061;}var dst_start4065 = if_res2319;if (M1.unsafe_fx_eq_(n4063,0)!==false) {var if_res2340 = M0.rvoid();} else {if (false!==false) {var work_vec4066 = M0.make_vector(n4063+M0.ceiling(n4063/2),true);var loop4067 = function(i4068) {if (M1.unsafe_fx_lt_(i4068,n4063)!==false) {var x4069 = M1.unsafe_vector_ref(vec4059,M1.unsafe_fx_plus_(i4068,start4061));M1.unsafe_vector_set_bang_(work_vec4066,i4068,M0.cons(false(x4069),x4069));var if_res2320 = loop4067(M1.unsafe_fx_plus_(i4068,1));} else {var if_res2320 = M0.rvoid();}return if_res2320;};loop4067(0);generic_sort_by_key3895(work_vec4066,less_than_p4060,n4063,M1.unsafe_car);var loop4070 = function(i4071) {if (M1.unsafe_fx_lt_(i4071,n4063)!==false) {M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(i4071,dst_start4065),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec4066,i4071)));var if_res2321 = loop4070(M1.unsafe_fx_plus_(i4071,1));} else {var if_res2321 = M0.rvoid();}return if_res2321;};var if_res2339 = loop4070(0);} else {var loop4072 = function(prev_val4073, next_index4074) {var or_part4075 = M1.unsafe_fx_eq_(next_index4074,end4062);if (or_part4075!==false) {var if_res2324 = or_part4075;} else {var next_val4076 = M1.unsafe_vector_ref(vec4059,next_index4074);if (false!==false) {var if_res2322 = less_than_p4060(false(next_val4076),false(prev_val4073));} else {var if_res2322 = less_than_p4060(next_val4076,prev_val4073);}if (M0.not(if_res2322)!==false) {var if_res2323 = loop4072(next_val4076,M1.unsafe_fx_plus_(next_index4074,1));} else {var if_res2323 = false;}var if_res2324 = if_res2323;}return if_res2324;};if (loop4072(M1.unsafe_vector_ref(vec4059,start4061),M1.unsafe_fx_plus_(start4061,1))!==false) {if (false!==false) {var if_res2325 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4064,dst_start4065,vec4059,start4061,end4062);} else {var if_res2325 = M0.rvoid();}var if_res2338 = if_res2325;} else {if (M1.unsafe_fx_lt__eq_(n4063,3)!==false) {if (false!==false) {var if_res2326 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4064,dst_start4065,vec4059,start4061,end4062);} else {var if_res2326 = M0.rvoid();}if_res2326;if (M1.unsafe_fx_eq_(n4063,1)!==false) {var if_res2336 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n4063,2)!==false) {var tmp4077 = M1.unsafe_vector_ref(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0));M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0),M1.unsafe_vector_ref(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1)));var if_res2335 = M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1),tmp4077);} else {var a4078 = M1.unsafe_vector_ref(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0));var b4079 = M1.unsafe_vector_ref(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1));var c4080 = M1.unsafe_vector_ref(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,2));if (false!==false) {var if_res2327 = less_than_p4060(false(b4079),false(a4078));} else {var if_res2327 = less_than_p4060(b4079,a4078);}if (if_res2327!==false) {if (false!==false) {var if_res2328 = less_than_p4060(false(c4080),false(b4079));} else {var if_res2328 = less_than_p4060(c4080,b4079);}if (if_res2328!==false) {M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0),c4080);var if_res2331 = M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,2),a4078);} else {if (false!==false) {var if_res2329 = less_than_p4060(false(c4080),false(a4078));} else {var if_res2329 = less_than_p4060(c4080,a4078);}if (if_res2329!==false) {M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0),b4079);M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1),c4080);var if_res2330 = M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,2),a4078);} else {M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0),b4079);var if_res2330 = M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1),a4078);}var if_res2331 = if_res2330;}var if_res2334 = if_res2331;} else {if (false!==false) {var if_res2332 = less_than_p4060(false(c4080),false(a4078));} else {var if_res2332 = less_than_p4060(c4080,a4078);}if (if_res2332!==false) {M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,0),c4080);M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1),a4078);var if_res2333 = M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,2),b4079);} else {M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,1),c4080);var if_res2333 = M1.unsafe_vector_set_bang_(dst_vec4064,M1.unsafe_fx_plus_(dst_start4065,2),b4079);}var if_res2334 = if_res2333;}var if_res2335 = if_res2334;}var if_res2336 = if_res2335;}var if_res2337 = if_res2336;} else {var work_vec4081 = M0.make_vector(n4063+M0.ceiling(n4063/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec4081,0,vec4059,start4061,end4062);generic_sort3839(work_vec4081,less_than_p4060,n4063);var if_res2337 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4064,dst_start4065,work_vec4081,0,n4063);}var if_res2338 = if_res2337;}var if_res2339 = if_res2338;}var if_res2340 = if_res2339;}if_res2340;if (false!==false) {var if_res2341 = dst_vec4064;} else {var if_res2341 = M0.rvoid();}return if_res2341;};var cl2316 = function(vec4082, less_than_p4083, start4084, end4085, getkey4086, cache_keys_p4087) {if (getkey4086!==false) {var if_res2342 = M0.not(M0.eq_p(M0.values,getkey4086));} else {var if_res2342 = false;}if (if_res2342!==false) {var n4088 = end4085-start4084;if (false!==false) {var if_res2343 = M0.make_vector(n4088);} else {var if_res2343 = vec4082;}var dst_vec4089 = if_res2343;if (false!==false) {var if_res2344 = 0;} else {var if_res2344 = start4084;}var dst_start4090 = if_res2344;if (M1.unsafe_fx_eq_(n4088,0)!==false) {var if_res2365 = M0.rvoid();} else {if (cache_keys_p4087!==false) {var work_vec4091 = M0.make_vector(n4088+M0.ceiling(n4088/2),true);var loop4092 = function(i4093) {if (M1.unsafe_fx_lt_(i4093,n4088)!==false) {var x4094 = M1.unsafe_vector_ref(vec4082,M1.unsafe_fx_plus_(i4093,start4084));M1.unsafe_vector_set_bang_(work_vec4091,i4093,M0.cons(getkey4086(x4094),x4094));var if_res2345 = loop4092(M1.unsafe_fx_plus_(i4093,1));} else {var if_res2345 = M0.rvoid();}return if_res2345;};loop4092(0);generic_sort_by_key3895(work_vec4091,less_than_p4083,n4088,M1.unsafe_car);var loop4095 = function(i4096) {if (M1.unsafe_fx_lt_(i4096,n4088)!==false) {M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(i4096,dst_start4090),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec4091,i4096)));var if_res2346 = loop4095(M1.unsafe_fx_plus_(i4096,1));} else {var if_res2346 = M0.rvoid();}return if_res2346;};var if_res2364 = loop4095(0);} else {var loop4097 = function(prev_val4098, next_index4099) {var or_part4100 = M1.unsafe_fx_eq_(next_index4099,end4085);if (or_part4100!==false) {var if_res2349 = or_part4100;} else {var next_val4101 = M1.unsafe_vector_ref(vec4082,next_index4099);if (getkey4086!==false) {var if_res2347 = less_than_p4083(getkey4086(next_val4101),getkey4086(prev_val4098));} else {var if_res2347 = less_than_p4083(next_val4101,prev_val4098);}if (M0.not(if_res2347)!==false) {var if_res2348 = loop4097(next_val4101,M1.unsafe_fx_plus_(next_index4099,1));} else {var if_res2348 = false;}var if_res2349 = if_res2348;}return if_res2349;};if (loop4097(M1.unsafe_vector_ref(vec4082,start4084),M1.unsafe_fx_plus_(start4084,1))!==false) {if (false!==false) {var if_res2350 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4089,dst_start4090,vec4082,start4084,end4085);} else {var if_res2350 = M0.rvoid();}var if_res2363 = if_res2350;} else {if (M1.unsafe_fx_lt__eq_(n4088,3)!==false) {if (false!==false) {var if_res2351 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4089,dst_start4090,vec4082,start4084,end4085);} else {var if_res2351 = M0.rvoid();}if_res2351;if (M1.unsafe_fx_eq_(n4088,1)!==false) {var if_res2361 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n4088,2)!==false) {var tmp4102 = M1.unsafe_vector_ref(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0));M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0),M1.unsafe_vector_ref(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1)));var if_res2360 = M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1),tmp4102);} else {var a4103 = M1.unsafe_vector_ref(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0));var b4104 = M1.unsafe_vector_ref(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1));var c4105 = M1.unsafe_vector_ref(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,2));if (getkey4086!==false) {var if_res2352 = less_than_p4083(getkey4086(b4104),getkey4086(a4103));} else {var if_res2352 = less_than_p4083(b4104,a4103);}if (if_res2352!==false) {if (getkey4086!==false) {var if_res2353 = less_than_p4083(getkey4086(c4105),getkey4086(b4104));} else {var if_res2353 = less_than_p4083(c4105,b4104);}if (if_res2353!==false) {M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0),c4105);var if_res2356 = M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,2),a4103);} else {if (getkey4086!==false) {var if_res2354 = less_than_p4083(getkey4086(c4105),getkey4086(a4103));} else {var if_res2354 = less_than_p4083(c4105,a4103);}if (if_res2354!==false) {M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0),b4104);M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1),c4105);var if_res2355 = M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,2),a4103);} else {M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0),b4104);var if_res2355 = M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1),a4103);}var if_res2356 = if_res2355;}var if_res2359 = if_res2356;} else {if (getkey4086!==false) {var if_res2357 = less_than_p4083(getkey4086(c4105),getkey4086(a4103));} else {var if_res2357 = less_than_p4083(c4105,a4103);}if (if_res2357!==false) {M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,0),c4105);M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1),a4103);var if_res2358 = M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,2),b4104);} else {M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,1),c4105);var if_res2358 = M1.unsafe_vector_set_bang_(dst_vec4089,M1.unsafe_fx_plus_(dst_start4090,2),b4104);}var if_res2359 = if_res2358;}var if_res2360 = if_res2359;}var if_res2361 = if_res2360;}var if_res2362 = if_res2361;} else {var work_vec4106 = M0.make_vector(n4088+M0.ceiling(n4088/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec4106,0,vec4082,start4084,end4085);generic_sort_by_key3895(work_vec4106,less_than_p4083,n4088,getkey4086);var if_res2362 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec4089,dst_start4090,work_vec4106,0,n4088);}var if_res2363 = if_res2362;}var if_res2364 = if_res2363;}var if_res2365 = if_res2364;}if_res2365;if (false!==false) {var if_res2366 = dst_vec4089;} else {var if_res2366 = M0.rvoid();}var if_res2367 = if_res2366;} else {var if_res2367 = vector_sort_bang_(vec4082,less_than_p4083,start4084,end4085);}return if_res2367;};var let_result2473 = M0.values(temp2472,temp2421,$rjs_core.attachProcedureArity(function() {var fixed_lam2317 = {'4':cl2315,'6':cl2316}[arguments.length];if (fixed_lam2317!==undefined) {return fixed_lam2317.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]));var sort = let_result2473.getAt(0);var vector_sort = let_result2473.getAt(1);var vector_sort_bang_ = let_result2473.getAt(2);var __rjs_quoted__ = {};export { __rjs_quoted__,vector_sort_bang_,vector_sort,sort };