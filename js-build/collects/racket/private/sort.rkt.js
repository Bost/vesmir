import * as $rjs_core from '../../../runtime/core.js';import * as M0 from "../../../runtime/kernel.rkt.js";import * as M1 from "../../../runtime/unsafe.rkt.js";var generic_sort1329 = function(A1330, less_than_p1331, n1332) {var n_by_2_1333 = M1.unsafe_fxrshift(n1332,1);var n_by_2_plus_1334 = M1.unsafe_fx_(n1332,n_by_2_1333);var copying_mergesort1335 = function(Alo1336, Blo1337, n1338) {if (M1.unsafe_fx_eq_(n1338,1)!==false) {var if_res735 = M1.unsafe_vector_set_bang_(A1330,Blo1337,M1.unsafe_vector_ref(A1330,Alo1336));} else {if (M1.unsafe_fx_eq_(n1338,2)!==false) {var x1339 = M1.unsafe_vector_ref(A1330,Alo1336);var y1340 = M1.unsafe_vector_ref(A1330,M1.unsafe_fx_plus_(Alo1336,1));if (false!==false) {var if_res720 = less_than_p1331(false(y1340),false(x1339));} else {var if_res720 = less_than_p1331(y1340,x1339);}if (if_res720!==false) {M1.unsafe_vector_set_bang_(A1330,Blo1337,y1340);var if_res721 = M1.unsafe_vector_set_bang_(A1330,M1.unsafe_fx_plus_(Blo1337,1),x1339);} else {M1.unsafe_vector_set_bang_(A1330,Blo1337,x1339);var if_res721 = M1.unsafe_vector_set_bang_(A1330,M1.unsafe_fx_plus_(Blo1337,1),y1340);}var if_res734 = if_res721;} else {if (M1.unsafe_fx_lt_(n1338,16)!==false) {M1.unsafe_vector_set_bang_(A1330,Blo1337,M1.unsafe_vector_ref(A1330,Alo1336));var iloop1341 = function(i1342) {if (M1.unsafe_fx_lt_(i1342,n1338)!==false) {var ref_i1343 = M1.unsafe_vector_ref(A1330,M1.unsafe_fx_plus_(Alo1336,i1342));var jloop1344 = function(j1345) {var ref_j_11346 = M1.unsafe_vector_ref(A1330,M1.unsafe_fx_(j1345,1));if (M1.unsafe_fx_lt_(Blo1337,j1345)!==false) {if (false!==false) {var if_res722 = less_than_p1331(false(ref_i1343),false(ref_j_11346));} else {var if_res722 = less_than_p1331(ref_i1343,ref_j_11346);}var if_res723 = if_res722;} else {var if_res723 = false;}if (if_res723!==false) {M1.unsafe_vector_set_bang_(A1330,j1345,ref_j_11346);var if_res724 = jloop1344(M1.unsafe_fx_(j1345,1));} else {M1.unsafe_vector_set_bang_(A1330,j1345,ref_i1343);var if_res724 = iloop1341(M1.unsafe_fx_plus_(i1342,1));}return if_res724;};var if_res725 = jloop1344(M1.unsafe_fx_plus_(Blo1337,i1342));} else {var if_res725 = M0.rvoid();}return if_res725;};var if_res733 = iloop1341(1);} else {var n_by_2_1347 = M1.unsafe_fxrshift(n1338,1);var n_by_2_plus_1348 = M1.unsafe_fx_(n1338,n_by_2_1347);var Amid11349 = M1.unsafe_fx_plus_(Alo1336,n_by_2_1347);var Amid21350 = M1.unsafe_fx_plus_(Alo1336,n_by_2_plus_1348);var Bmid11351 = M1.unsafe_fx_plus_(Blo1337,n_by_2_1347);copying_mergesort1335(Amid11349,Bmid11351,n_by_2_plus_1348);copying_mergesort1335(Alo1336,Amid21350,n_by_2_1347);var b21352 = M1.unsafe_fx_plus_(Blo1337,n1338);var loop1353 = function(a11354, b11355, c11356) {var x1357 = M1.unsafe_vector_ref(A1330,a11354);var y1358 = M1.unsafe_vector_ref(A1330,b11355);if (true!==false) {if (false!==false) {var if_res726 = less_than_p1331(false(y1358),false(x1357));} else {var if_res726 = less_than_p1331(y1358,x1357);}var if_res728 = M0.not(if_res726);} else {if (false!==false) {var if_res727 = less_than_p1331(false(x1357),false(y1358));} else {var if_res727 = less_than_p1331(x1357,y1358);}var if_res728 = if_res727;}if (if_res728!==false) {M1.unsafe_vector_set_bang_(A1330,c11356,x1357);var a11359 = M1.unsafe_fx_plus_(a11354,1);var c11360 = M1.unsafe_fx_plus_(c11356,1);if (M1.unsafe_fx_lt_(c11360,b11355)!==false) {var if_res729 = loop1353(a11359,b11355,c11360);} else {var if_res729 = M0.rvoid();}var if_res732 = if_res729;} else {M1.unsafe_vector_set_bang_(A1330,c11356,y1358);var b11361 = M1.unsafe_fx_plus_(b11355,1);var c11362 = M1.unsafe_fx_plus_(c11356,1);if (M1.unsafe_fx_lt__eq_(b21352,b11361)!==false) {var loop1363 = function(a11364, c11365) {if (M1.unsafe_fx_lt_(c11365,b11361)!==false) {M1.unsafe_vector_set_bang_(A1330,c11365,M1.unsafe_vector_ref(A1330,a11364));var if_res730 = loop1363(M1.unsafe_fx_plus_(a11364,1),M1.unsafe_fx_plus_(c11365,1));} else {var if_res730 = M0.rvoid();}return if_res730;};var if_res731 = loop1363(a11354,c11362);} else {var if_res731 = loop1353(a11354,b11361,c11362);}var if_res732 = if_res731;}return if_res732;};var if_res733 = loop1353(Amid21350,Bmid11351,Blo1337);}var if_res734 = if_res733;}var if_res735 = if_res734;}return if_res735;};var Alo1366 = 0;var Amid11367 = n_by_2_1333;var Amid21368 = n_by_2_plus_1334;var Ahi1369 = n1332;var B1lo1370 = n1332;copying_mergesort1335(Amid11367,B1lo1370,n_by_2_plus_1334);if (M0.zero_p(n_by_2_1333)!==false) {var if_res736 = M0.rvoid();} else {var if_res736 = copying_mergesort1335(Alo1366,Amid21368,n_by_2_1333);}if_res736;var b21371 = Ahi1369;var loop1372 = function(a11373, b11374, c11375) {var x1376 = M1.unsafe_vector_ref(A1330,a11373);var y1377 = M1.unsafe_vector_ref(A1330,b11374);if (false!==false) {if (false!==false) {var if_res737 = less_than_p1331(false(y1377),false(x1376));} else {var if_res737 = less_than_p1331(y1377,x1376);}var if_res739 = M0.not(if_res737);} else {if (false!==false) {var if_res738 = less_than_p1331(false(x1376),false(y1377));} else {var if_res738 = less_than_p1331(x1376,y1377);}var if_res739 = if_res738;}if (if_res739!==false) {M1.unsafe_vector_set_bang_(A1330,c11375,x1376);var a11378 = M1.unsafe_fx_plus_(a11373,1);var c11379 = M1.unsafe_fx_plus_(c11375,1);if (M1.unsafe_fx_lt_(c11379,b11374)!==false) {var if_res740 = loop1372(a11378,b11374,c11379);} else {var if_res740 = M0.rvoid();}var if_res743 = if_res740;} else {M1.unsafe_vector_set_bang_(A1330,c11375,y1377);var b11380 = M1.unsafe_fx_plus_(b11374,1);var c11381 = M1.unsafe_fx_plus_(c11375,1);if (M1.unsafe_fx_lt__eq_(b21371,b11380)!==false) {var loop1382 = function(a11383, c11384) {if (M1.unsafe_fx_lt_(c11384,b11380)!==false) {M1.unsafe_vector_set_bang_(A1330,c11384,M1.unsafe_vector_ref(A1330,a11383));var if_res741 = loop1382(M1.unsafe_fx_plus_(a11383,1),M1.unsafe_fx_plus_(c11384,1));} else {var if_res741 = M0.rvoid();}return if_res741;};var if_res742 = loop1382(a11373,c11381);} else {var if_res742 = loop1372(a11373,b11380,c11381);}var if_res743 = if_res742;}return if_res743;};return loop1372(B1lo1370,Amid21368,Alo1366);};var generic_sort_by_key1385 = function(A1386, less_than_p1387, n1388, key1389) {var n_by_2_1390 = M1.unsafe_fxrshift(n1388,1);var n_by_2_plus_1391 = M1.unsafe_fx_(n1388,n_by_2_1390);var copying_mergesort1392 = function(Alo1393, Blo1394, n1395) {if (M1.unsafe_fx_eq_(n1395,1)!==false) {var if_res759 = M1.unsafe_vector_set_bang_(A1386,Blo1394,M1.unsafe_vector_ref(A1386,Alo1393));} else {if (M1.unsafe_fx_eq_(n1395,2)!==false) {var x1396 = M1.unsafe_vector_ref(A1386,Alo1393);var y1397 = M1.unsafe_vector_ref(A1386,M1.unsafe_fx_plus_(Alo1393,1));if (key1389!==false) {var if_res744 = less_than_p1387(key1389(y1397),key1389(x1396));} else {var if_res744 = less_than_p1387(y1397,x1396);}if (if_res744!==false) {M1.unsafe_vector_set_bang_(A1386,Blo1394,y1397);var if_res745 = M1.unsafe_vector_set_bang_(A1386,M1.unsafe_fx_plus_(Blo1394,1),x1396);} else {M1.unsafe_vector_set_bang_(A1386,Blo1394,x1396);var if_res745 = M1.unsafe_vector_set_bang_(A1386,M1.unsafe_fx_plus_(Blo1394,1),y1397);}var if_res758 = if_res745;} else {if (M1.unsafe_fx_lt_(n1395,16)!==false) {M1.unsafe_vector_set_bang_(A1386,Blo1394,M1.unsafe_vector_ref(A1386,Alo1393));var iloop1398 = function(i1399) {if (M1.unsafe_fx_lt_(i1399,n1395)!==false) {var ref_i1400 = M1.unsafe_vector_ref(A1386,M1.unsafe_fx_plus_(Alo1393,i1399));var jloop1401 = function(j1402) {var ref_j_11403 = M1.unsafe_vector_ref(A1386,M1.unsafe_fx_(j1402,1));if (M1.unsafe_fx_lt_(Blo1394,j1402)!==false) {if (key1389!==false) {var if_res746 = less_than_p1387(key1389(ref_i1400),key1389(ref_j_11403));} else {var if_res746 = less_than_p1387(ref_i1400,ref_j_11403);}var if_res747 = if_res746;} else {var if_res747 = false;}if (if_res747!==false) {M1.unsafe_vector_set_bang_(A1386,j1402,ref_j_11403);var if_res748 = jloop1401(M1.unsafe_fx_(j1402,1));} else {M1.unsafe_vector_set_bang_(A1386,j1402,ref_i1400);var if_res748 = iloop1398(M1.unsafe_fx_plus_(i1399,1));}return if_res748;};var if_res749 = jloop1401(M1.unsafe_fx_plus_(Blo1394,i1399));} else {var if_res749 = M0.rvoid();}return if_res749;};var if_res757 = iloop1398(1);} else {var n_by_2_1404 = M1.unsafe_fxrshift(n1395,1);var n_by_2_plus_1405 = M1.unsafe_fx_(n1395,n_by_2_1404);var Amid11406 = M1.unsafe_fx_plus_(Alo1393,n_by_2_1404);var Amid21407 = M1.unsafe_fx_plus_(Alo1393,n_by_2_plus_1405);var Bmid11408 = M1.unsafe_fx_plus_(Blo1394,n_by_2_1404);copying_mergesort1392(Amid11406,Bmid11408,n_by_2_plus_1405);copying_mergesort1392(Alo1393,Amid21407,n_by_2_1404);var b21409 = M1.unsafe_fx_plus_(Blo1394,n1395);var loop1410 = function(a11411, b11412, c11413) {var x1414 = M1.unsafe_vector_ref(A1386,a11411);var y1415 = M1.unsafe_vector_ref(A1386,b11412);if (true!==false) {if (key1389!==false) {var if_res750 = less_than_p1387(key1389(y1415),key1389(x1414));} else {var if_res750 = less_than_p1387(y1415,x1414);}var if_res752 = M0.not(if_res750);} else {if (key1389!==false) {var if_res751 = less_than_p1387(key1389(x1414),key1389(y1415));} else {var if_res751 = less_than_p1387(x1414,y1415);}var if_res752 = if_res751;}if (if_res752!==false) {M1.unsafe_vector_set_bang_(A1386,c11413,x1414);var a11416 = M1.unsafe_fx_plus_(a11411,1);var c11417 = M1.unsafe_fx_plus_(c11413,1);if (M1.unsafe_fx_lt_(c11417,b11412)!==false) {var if_res753 = loop1410(a11416,b11412,c11417);} else {var if_res753 = M0.rvoid();}var if_res756 = if_res753;} else {M1.unsafe_vector_set_bang_(A1386,c11413,y1415);var b11418 = M1.unsafe_fx_plus_(b11412,1);var c11419 = M1.unsafe_fx_plus_(c11413,1);if (M1.unsafe_fx_lt__eq_(b21409,b11418)!==false) {var loop1420 = function(a11421, c11422) {if (M1.unsafe_fx_lt_(c11422,b11418)!==false) {M1.unsafe_vector_set_bang_(A1386,c11422,M1.unsafe_vector_ref(A1386,a11421));var if_res754 = loop1420(M1.unsafe_fx_plus_(a11421,1),M1.unsafe_fx_plus_(c11422,1));} else {var if_res754 = M0.rvoid();}return if_res754;};var if_res755 = loop1420(a11411,c11419);} else {var if_res755 = loop1410(a11411,b11418,c11419);}var if_res756 = if_res755;}return if_res756;};var if_res757 = loop1410(Amid21407,Bmid11408,Blo1394);}var if_res758 = if_res757;}var if_res759 = if_res758;}return if_res759;};var Alo1423 = 0;var Amid11424 = n_by_2_1390;var Amid21425 = n_by_2_plus_1391;var Ahi1426 = n1388;var B1lo1427 = n1388;copying_mergesort1392(Amid11424,B1lo1427,n_by_2_plus_1391);if (M0.zero_p(n_by_2_1390)!==false) {var if_res760 = M0.rvoid();} else {var if_res760 = copying_mergesort1392(Alo1423,Amid21425,n_by_2_1390);}if_res760;var b21428 = Ahi1426;var loop1429 = function(a11430, b11431, c11432) {var x1433 = M1.unsafe_vector_ref(A1386,a11430);var y1434 = M1.unsafe_vector_ref(A1386,b11431);if (false!==false) {if (key1389!==false) {var if_res761 = less_than_p1387(key1389(y1434),key1389(x1433));} else {var if_res761 = less_than_p1387(y1434,x1433);}var if_res763 = M0.not(if_res761);} else {if (key1389!==false) {var if_res762 = less_than_p1387(key1389(x1433),key1389(y1434));} else {var if_res762 = less_than_p1387(x1433,y1434);}var if_res763 = if_res762;}if (if_res763!==false) {M1.unsafe_vector_set_bang_(A1386,c11432,x1433);var a11435 = M1.unsafe_fx_plus_(a11430,1);var c11436 = M1.unsafe_fx_plus_(c11432,1);if (M1.unsafe_fx_lt_(c11436,b11431)!==false) {var if_res764 = loop1429(a11435,b11431,c11436);} else {var if_res764 = M0.rvoid();}var if_res767 = if_res764;} else {M1.unsafe_vector_set_bang_(A1386,c11432,y1434);var b11437 = M1.unsafe_fx_plus_(b11431,1);var c11438 = M1.unsafe_fx_plus_(c11432,1);if (M1.unsafe_fx_lt__eq_(b21428,b11437)!==false) {var loop1439 = function(a11440, c11441) {if (M1.unsafe_fx_lt_(c11441,b11437)!==false) {M1.unsafe_vector_set_bang_(A1386,c11441,M1.unsafe_vector_ref(A1386,a11440));var if_res765 = loop1439(M1.unsafe_fx_plus_(a11440,1),M1.unsafe_fx_plus_(c11441,1));} else {var if_res765 = M0.rvoid();}return if_res765;};var if_res766 = loop1439(a11430,c11438);} else {var if_res766 = loop1429(a11430,b11437,c11438);}var if_res767 = if_res766;}return if_res767;};return loop1429(B1lo1427,Amid21425,Alo1423);};var cl875 = function(lst1442, less_than_p1443) {var n1444 = M0.length(lst1442);if (M1.unsafe_fx_eq_(n1444,0)!==false) {var if_res899 = lst1442;} else {if (false!==false) {var vec1445 = M0.make_vector(n1444+M0.ceiling(n1444/2));var loop1446 = function(i1447, lst1448) {if (M0.pair_p(lst1448)!==false) {var x1449 = M0.car(lst1448);M1.unsafe_vector_set_bang_(vec1445,i1447,M0.cons(false(x1449),x1449));var if_res879 = loop1446(M1.unsafe_fx_plus_(i1447,1),M0.cdr(lst1448));} else {var if_res879 = M0.rvoid();}return if_res879;};loop1446(0,lst1442);generic_sort_by_key1385(vec1445,less_than_p1443,n1444,M1.unsafe_car);var loop1450 = function(i1451, r1452) {var i1453 = M1.unsafe_fx_(i1451,1);if (M1.unsafe_fx_lt_(i1453,0)!==false) {var if_res880 = r1452;} else {var if_res880 = loop1450(i1453,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec1445,i1453)),r1452));}return if_res880;};var if_res898 = loop1450(n1444,$rjs_core.Pair.makeList());} else {var loop1454 = function(last1455, next1456) {var or_part1457 = M0.null_p(next1456);if (or_part1457!==false) {var if_res883 = or_part1457;} else {if (false!==false) {var if_res881 = less_than_p1443(false(M1.unsafe_car(next1456)),false(last1455));} else {var if_res881 = less_than_p1443(M1.unsafe_car(next1456),last1455);}if (M0.not(if_res881)!==false) {var if_res882 = loop1454(M1.unsafe_car(next1456),M1.unsafe_cdr(next1456));} else {var if_res882 = false;}var if_res883 = if_res882;}return if_res883;};if (loop1454(M0.car(lst1442),M0.cdr(lst1442))!==false) {var if_res897 = lst1442;} else {if (M1.unsafe_fx_lt__eq_(n1444,3)!==false) {if (M1.unsafe_fx_eq_(n1444,1)!==false) {var if_res893 = lst1442;} else {if (M1.unsafe_fx_eq_(n1444,2)!==false) {var if_res892 = M0.list(M0.cadr(lst1442),M0.car(lst1442));} else {var a1458 = M0.car(lst1442);var b1459 = M0.cadr(lst1442);var c1460 = M0.caddr(lst1442);if (false!==false) {var if_res884 = less_than_p1443(false(b1459),false(a1458));} else {var if_res884 = less_than_p1443(b1459,a1458);}if (if_res884!==false) {if (false!==false) {var if_res885 = less_than_p1443(false(c1460),false(b1459));} else {var if_res885 = less_than_p1443(c1460,b1459);}if (if_res885!==false) {var if_res888 = M0.list(c1460,b1459,a1458);} else {if (false!==false) {var if_res886 = less_than_p1443(false(c1460),false(a1458));} else {var if_res886 = less_than_p1443(c1460,a1458);}if (if_res886!==false) {var if_res887 = M0.list(b1459,c1460,a1458);} else {var if_res887 = M0.list(b1459,a1458,c1460);}var if_res888 = if_res887;}var if_res891 = if_res888;} else {if (false!==false) {var if_res889 = less_than_p1443(false(c1460),false(a1458));} else {var if_res889 = less_than_p1443(c1460,a1458);}if (if_res889!==false) {var if_res890 = M0.list(c1460,a1458,b1459);} else {var if_res890 = M0.list(a1458,c1460,b1459);}var if_res891 = if_res890;}var if_res892 = if_res891;}var if_res893 = if_res892;}var if_res896 = if_res893;} else {var vec1461 = M0.make_vector(n1444+M0.ceiling(n1444/2));var loop1462 = function(i1463, lst1464) {if (M0.pair_p(lst1464)!==false) {M0.vector_set_bang_(vec1461,i1463,M0.car(lst1464));var if_res894 = loop1462(M0.add1(i1463),M0.cdr(lst1464));} else {var if_res894 = M0.rvoid();}return if_res894;};loop1462(0,lst1442);generic_sort1329(vec1461,less_than_p1443,n1444);var loop1465 = function(i1466, r1467) {var i1468 = M0.sub1(i1466);if (M0.__lt_(i1468,0)!==false) {var if_res895 = r1467;} else {var if_res895 = loop1465(i1468,M0.cons(M0.vector_ref(vec1461,i1468),r1467));}return if_res895;};var if_res896 = loop1465(n1444,$rjs_core.Pair.makeList());}var if_res897 = if_res896;}var if_res898 = if_res897;}var if_res899 = if_res898;}return if_res899;};var cl876 = function(lst1469, less_than_p1470, getkey1471) {if (getkey1471!==false) {var if_res900 = M0.not(M0.eq_p(M0.values,getkey1471));} else {var if_res900 = false;}if (if_res900!==false) {var if_res901 = sort(lst1469,less_than_p1470,getkey1471,false);} else {var if_res901 = sort(lst1469,less_than_p1470);}return if_res901;};var cl877 = function(lst1472, less_than_p1473, getkey1474, cache_keys_p1475) {if (getkey1474!==false) {var if_res902 = M0.not(M0.eq_p(M0.values,getkey1474));} else {var if_res902 = false;}if (if_res902!==false) {var n1476 = M0.length(lst1472);if (M1.unsafe_fx_eq_(n1476,0)!==false) {var if_res923 = lst1472;} else {if (cache_keys_p1475!==false) {var vec1477 = M0.make_vector(n1476+M0.ceiling(n1476/2));var loop1478 = function(i1479, lst1480) {if (M0.pair_p(lst1480)!==false) {var x1481 = M0.car(lst1480);M1.unsafe_vector_set_bang_(vec1477,i1479,M0.cons(getkey1474(x1481),x1481));var if_res903 = loop1478(M1.unsafe_fx_plus_(i1479,1),M0.cdr(lst1480));} else {var if_res903 = M0.rvoid();}return if_res903;};loop1478(0,lst1472);generic_sort_by_key1385(vec1477,less_than_p1473,n1476,M1.unsafe_car);var loop1482 = function(i1483, r1484) {var i1485 = M1.unsafe_fx_(i1483,1);if (M1.unsafe_fx_lt_(i1485,0)!==false) {var if_res904 = r1484;} else {var if_res904 = loop1482(i1485,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec1477,i1485)),r1484));}return if_res904;};var if_res922 = loop1482(n1476,$rjs_core.Pair.makeList());} else {var loop1486 = function(last1487, next1488) {var or_part1489 = M0.null_p(next1488);if (or_part1489!==false) {var if_res907 = or_part1489;} else {if (getkey1474!==false) {var if_res905 = less_than_p1473(getkey1474(M1.unsafe_car(next1488)),getkey1474(last1487));} else {var if_res905 = less_than_p1473(M1.unsafe_car(next1488),last1487);}if (M0.not(if_res905)!==false) {var if_res906 = loop1486(M1.unsafe_car(next1488),M1.unsafe_cdr(next1488));} else {var if_res906 = false;}var if_res907 = if_res906;}return if_res907;};if (loop1486(M0.car(lst1472),M0.cdr(lst1472))!==false) {var if_res921 = lst1472;} else {if (M1.unsafe_fx_lt__eq_(n1476,3)!==false) {if (M1.unsafe_fx_eq_(n1476,1)!==false) {var if_res917 = lst1472;} else {if (M1.unsafe_fx_eq_(n1476,2)!==false) {var if_res916 = M0.list(M0.cadr(lst1472),M0.car(lst1472));} else {var a1490 = M0.car(lst1472);var b1491 = M0.cadr(lst1472);var c1492 = M0.caddr(lst1472);if (getkey1474!==false) {var if_res908 = less_than_p1473(getkey1474(b1491),getkey1474(a1490));} else {var if_res908 = less_than_p1473(b1491,a1490);}if (if_res908!==false) {if (getkey1474!==false) {var if_res909 = less_than_p1473(getkey1474(c1492),getkey1474(b1491));} else {var if_res909 = less_than_p1473(c1492,b1491);}if (if_res909!==false) {var if_res912 = M0.list(c1492,b1491,a1490);} else {if (getkey1474!==false) {var if_res910 = less_than_p1473(getkey1474(c1492),getkey1474(a1490));} else {var if_res910 = less_than_p1473(c1492,a1490);}if (if_res910!==false) {var if_res911 = M0.list(b1491,c1492,a1490);} else {var if_res911 = M0.list(b1491,a1490,c1492);}var if_res912 = if_res911;}var if_res915 = if_res912;} else {if (getkey1474!==false) {var if_res913 = less_than_p1473(getkey1474(c1492),getkey1474(a1490));} else {var if_res913 = less_than_p1473(c1492,a1490);}if (if_res913!==false) {var if_res914 = M0.list(c1492,a1490,b1491);} else {var if_res914 = M0.list(a1490,c1492,b1491);}var if_res915 = if_res914;}var if_res916 = if_res915;}var if_res917 = if_res916;}var if_res920 = if_res917;} else {var vec1493 = M0.make_vector(n1476+M0.ceiling(n1476/2));var loop1494 = function(i1495, lst1496) {if (M0.pair_p(lst1496)!==false) {M0.vector_set_bang_(vec1493,i1495,M0.car(lst1496));var if_res918 = loop1494(M0.add1(i1495),M0.cdr(lst1496));} else {var if_res918 = M0.rvoid();}return if_res918;};loop1494(0,lst1472);generic_sort_by_key1385(vec1493,less_than_p1473,n1476,getkey1474);var loop1497 = function(i1498, r1499) {var i1500 = M0.sub1(i1498);if (M0.__lt_(i1500,0)!==false) {var if_res919 = r1499;} else {var if_res919 = loop1497(i1500,M0.cons(M0.vector_ref(vec1493,i1500),r1499));}return if_res919;};var if_res920 = loop1497(n1476,$rjs_core.Pair.makeList());}var if_res921 = if_res920;}var if_res922 = if_res921;}var if_res923 = if_res922;}var if_res924 = if_res923;} else {var if_res924 = sort(lst1472,less_than_p1473);}return if_res924;};var temp925 = $rjs_core.attachProcedureArity(function() {var fixed_lam878 = {'2':cl875,'3':cl876,'4':cl877}[arguments.length];if (fixed_lam878!==undefined) {return fixed_lam878.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[2,3,4]);var cl821 = function(vec1501, less_than_p1502, start1503, end1504) {var n1505 = end1504-start1503;if (true!==false) {var if_res824 = M0.make_vector(n1505);} else {var if_res824 = vec1501;}var dst_vec1506 = if_res824;if (true!==false) {var if_res825 = 0;} else {var if_res825 = start1503;}var dst_start1507 = if_res825;if (M1.unsafe_fx_eq_(n1505,0)!==false) {var if_res846 = M0.rvoid();} else {if (false!==false) {var work_vec1508 = M0.make_vector(n1505+M0.ceiling(n1505/2),true);var loop1509 = function(i1510) {if (M1.unsafe_fx_lt_(i1510,n1505)!==false) {var x1511 = M1.unsafe_vector_ref(vec1501,M1.unsafe_fx_plus_(i1510,start1503));M1.unsafe_vector_set_bang_(work_vec1508,i1510,M0.cons(false(x1511),x1511));var if_res826 = loop1509(M1.unsafe_fx_plus_(i1510,1));} else {var if_res826 = M0.rvoid();}return if_res826;};loop1509(0);generic_sort_by_key1385(work_vec1508,less_than_p1502,n1505,M1.unsafe_car);var loop1512 = function(i1513) {if (M1.unsafe_fx_lt_(i1513,n1505)!==false) {M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(i1513,dst_start1507),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1508,i1513)));var if_res827 = loop1512(M1.unsafe_fx_plus_(i1513,1));} else {var if_res827 = M0.rvoid();}return if_res827;};var if_res845 = loop1512(0);} else {var loop1514 = function(prev_val1515, next_index1516) {var or_part1517 = M1.unsafe_fx_eq_(next_index1516,end1504);if (or_part1517!==false) {var if_res830 = or_part1517;} else {var next_val1518 = M1.unsafe_vector_ref(vec1501,next_index1516);if (false!==false) {var if_res828 = less_than_p1502(false(next_val1518),false(prev_val1515));} else {var if_res828 = less_than_p1502(next_val1518,prev_val1515);}if (M0.not(if_res828)!==false) {var if_res829 = loop1514(next_val1518,M1.unsafe_fx_plus_(next_index1516,1));} else {var if_res829 = false;}var if_res830 = if_res829;}return if_res830;};if (loop1514(M1.unsafe_vector_ref(vec1501,start1503),M1.unsafe_fx_plus_(start1503,1))!==false) {if (true!==false) {var if_res831 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1506,dst_start1507,vec1501,start1503,end1504);} else {var if_res831 = M0.rvoid();}var if_res844 = if_res831;} else {if (M1.unsafe_fx_lt__eq_(n1505,3)!==false) {if (true!==false) {var if_res832 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1506,dst_start1507,vec1501,start1503,end1504);} else {var if_res832 = M0.rvoid();}if_res832;if (M1.unsafe_fx_eq_(n1505,1)!==false) {var if_res842 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1505,2)!==false) {var tmp1519 = M1.unsafe_vector_ref(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0));M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0),M1.unsafe_vector_ref(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1)));var if_res841 = M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1),tmp1519);} else {var a1520 = M1.unsafe_vector_ref(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0));var b1521 = M1.unsafe_vector_ref(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1));var c1522 = M1.unsafe_vector_ref(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,2));if (false!==false) {var if_res833 = less_than_p1502(false(b1521),false(a1520));} else {var if_res833 = less_than_p1502(b1521,a1520);}if (if_res833!==false) {if (false!==false) {var if_res834 = less_than_p1502(false(c1522),false(b1521));} else {var if_res834 = less_than_p1502(c1522,b1521);}if (if_res834!==false) {M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0),c1522);var if_res837 = M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,2),a1520);} else {if (false!==false) {var if_res835 = less_than_p1502(false(c1522),false(a1520));} else {var if_res835 = less_than_p1502(c1522,a1520);}if (if_res835!==false) {M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0),b1521);M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1),c1522);var if_res836 = M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,2),a1520);} else {M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0),b1521);var if_res836 = M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1),a1520);}var if_res837 = if_res836;}var if_res840 = if_res837;} else {if (false!==false) {var if_res838 = less_than_p1502(false(c1522),false(a1520));} else {var if_res838 = less_than_p1502(c1522,a1520);}if (if_res838!==false) {M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,0),c1522);M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1),a1520);var if_res839 = M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,2),b1521);} else {M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,1),c1522);var if_res839 = M1.unsafe_vector_set_bang_(dst_vec1506,M1.unsafe_fx_plus_(dst_start1507,2),b1521);}var if_res840 = if_res839;}var if_res841 = if_res840;}var if_res842 = if_res841;}var if_res843 = if_res842;} else {var work_vec1523 = M0.make_vector(n1505+M0.ceiling(n1505/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec1523,0,vec1501,start1503,end1504);generic_sort1329(work_vec1523,less_than_p1502,n1505);var if_res843 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1506,dst_start1507,work_vec1523,0,n1505);}var if_res844 = if_res843;}var if_res845 = if_res844;}var if_res846 = if_res845;}if_res846;if (true!==false) {var if_res847 = dst_vec1506;} else {var if_res847 = M0.rvoid();}return if_res847;};var cl822 = function(vec1524, less_than_p1525, start1526, end1527, getkey1528, cache_keys_p1529) {if (getkey1528!==false) {var if_res848 = M0.not(M0.eq_p(M0.values,getkey1528));} else {var if_res848 = false;}if (if_res848!==false) {var n1530 = end1527-start1526;if (true!==false) {var if_res849 = M0.make_vector(n1530);} else {var if_res849 = vec1524;}var dst_vec1531 = if_res849;if (true!==false) {var if_res850 = 0;} else {var if_res850 = start1526;}var dst_start1532 = if_res850;if (M1.unsafe_fx_eq_(n1530,0)!==false) {var if_res871 = M0.rvoid();} else {if (cache_keys_p1529!==false) {var work_vec1533 = M0.make_vector(n1530+M0.ceiling(n1530/2),true);var loop1534 = function(i1535) {if (M1.unsafe_fx_lt_(i1535,n1530)!==false) {var x1536 = M1.unsafe_vector_ref(vec1524,M1.unsafe_fx_plus_(i1535,start1526));M1.unsafe_vector_set_bang_(work_vec1533,i1535,M0.cons(getkey1528(x1536),x1536));var if_res851 = loop1534(M1.unsafe_fx_plus_(i1535,1));} else {var if_res851 = M0.rvoid();}return if_res851;};loop1534(0);generic_sort_by_key1385(work_vec1533,less_than_p1525,n1530,M1.unsafe_car);var loop1537 = function(i1538) {if (M1.unsafe_fx_lt_(i1538,n1530)!==false) {M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(i1538,dst_start1532),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1533,i1538)));var if_res852 = loop1537(M1.unsafe_fx_plus_(i1538,1));} else {var if_res852 = M0.rvoid();}return if_res852;};var if_res870 = loop1537(0);} else {var loop1539 = function(prev_val1540, next_index1541) {var or_part1542 = M1.unsafe_fx_eq_(next_index1541,end1527);if (or_part1542!==false) {var if_res855 = or_part1542;} else {var next_val1543 = M1.unsafe_vector_ref(vec1524,next_index1541);if (getkey1528!==false) {var if_res853 = less_than_p1525(getkey1528(next_val1543),getkey1528(prev_val1540));} else {var if_res853 = less_than_p1525(next_val1543,prev_val1540);}if (M0.not(if_res853)!==false) {var if_res854 = loop1539(next_val1543,M1.unsafe_fx_plus_(next_index1541,1));} else {var if_res854 = false;}var if_res855 = if_res854;}return if_res855;};if (loop1539(M1.unsafe_vector_ref(vec1524,start1526),M1.unsafe_fx_plus_(start1526,1))!==false) {if (true!==false) {var if_res856 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1531,dst_start1532,vec1524,start1526,end1527);} else {var if_res856 = M0.rvoid();}var if_res869 = if_res856;} else {if (M1.unsafe_fx_lt__eq_(n1530,3)!==false) {if (true!==false) {var if_res857 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1531,dst_start1532,vec1524,start1526,end1527);} else {var if_res857 = M0.rvoid();}if_res857;if (M1.unsafe_fx_eq_(n1530,1)!==false) {var if_res867 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1530,2)!==false) {var tmp1544 = M1.unsafe_vector_ref(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0));M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0),M1.unsafe_vector_ref(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1)));var if_res866 = M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1),tmp1544);} else {var a1545 = M1.unsafe_vector_ref(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0));var b1546 = M1.unsafe_vector_ref(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1));var c1547 = M1.unsafe_vector_ref(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,2));if (getkey1528!==false) {var if_res858 = less_than_p1525(getkey1528(b1546),getkey1528(a1545));} else {var if_res858 = less_than_p1525(b1546,a1545);}if (if_res858!==false) {if (getkey1528!==false) {var if_res859 = less_than_p1525(getkey1528(c1547),getkey1528(b1546));} else {var if_res859 = less_than_p1525(c1547,b1546);}if (if_res859!==false) {M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0),c1547);var if_res862 = M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,2),a1545);} else {if (getkey1528!==false) {var if_res860 = less_than_p1525(getkey1528(c1547),getkey1528(a1545));} else {var if_res860 = less_than_p1525(c1547,a1545);}if (if_res860!==false) {M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0),b1546);M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1),c1547);var if_res861 = M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,2),a1545);} else {M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0),b1546);var if_res861 = M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1),a1545);}var if_res862 = if_res861;}var if_res865 = if_res862;} else {if (getkey1528!==false) {var if_res863 = less_than_p1525(getkey1528(c1547),getkey1528(a1545));} else {var if_res863 = less_than_p1525(c1547,a1545);}if (if_res863!==false) {M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,0),c1547);M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1),a1545);var if_res864 = M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,2),b1546);} else {M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,1),c1547);var if_res864 = M1.unsafe_vector_set_bang_(dst_vec1531,M1.unsafe_fx_plus_(dst_start1532,2),b1546);}var if_res865 = if_res864;}var if_res866 = if_res865;}var if_res867 = if_res866;}var if_res868 = if_res867;} else {var work_vec1548 = M0.make_vector(n1530+M0.ceiling(n1530/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec1548,0,vec1524,start1526,end1527);generic_sort_by_key1385(work_vec1548,less_than_p1525,n1530,getkey1528);var if_res868 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1531,dst_start1532,work_vec1548,0,n1530);}var if_res869 = if_res868;}var if_res870 = if_res869;}var if_res871 = if_res870;}if_res871;if (true!==false) {var if_res872 = dst_vec1531;} else {var if_res872 = M0.rvoid();}var if_res873 = if_res872;} else {var if_res873 = vector_sort(vec1524,less_than_p1525,start1526,end1527);}return if_res873;};var temp874 = $rjs_core.attachProcedureArity(function() {var fixed_lam823 = {'4':cl821,'6':cl822}[arguments.length];if (fixed_lam823!==undefined) {return fixed_lam823.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]);var cl768 = function(vec1549, less_than_p1550, start1551, end1552) {var n1553 = end1552-start1551;if (false!==false) {var if_res771 = M0.make_vector(n1553);} else {var if_res771 = vec1549;}var dst_vec1554 = if_res771;if (false!==false) {var if_res772 = 0;} else {var if_res772 = start1551;}var dst_start1555 = if_res772;if (M1.unsafe_fx_eq_(n1553,0)!==false) {var if_res793 = M0.rvoid();} else {if (false!==false) {var work_vec1556 = M0.make_vector(n1553+M0.ceiling(n1553/2),true);var loop1557 = function(i1558) {if (M1.unsafe_fx_lt_(i1558,n1553)!==false) {var x1559 = M1.unsafe_vector_ref(vec1549,M1.unsafe_fx_plus_(i1558,start1551));M1.unsafe_vector_set_bang_(work_vec1556,i1558,M0.cons(false(x1559),x1559));var if_res773 = loop1557(M1.unsafe_fx_plus_(i1558,1));} else {var if_res773 = M0.rvoid();}return if_res773;};loop1557(0);generic_sort_by_key1385(work_vec1556,less_than_p1550,n1553,M1.unsafe_car);var loop1560 = function(i1561) {if (M1.unsafe_fx_lt_(i1561,n1553)!==false) {M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(i1561,dst_start1555),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1556,i1561)));var if_res774 = loop1560(M1.unsafe_fx_plus_(i1561,1));} else {var if_res774 = M0.rvoid();}return if_res774;};var if_res792 = loop1560(0);} else {var loop1562 = function(prev_val1563, next_index1564) {var or_part1565 = M1.unsafe_fx_eq_(next_index1564,end1552);if (or_part1565!==false) {var if_res777 = or_part1565;} else {var next_val1566 = M1.unsafe_vector_ref(vec1549,next_index1564);if (false!==false) {var if_res775 = less_than_p1550(false(next_val1566),false(prev_val1563));} else {var if_res775 = less_than_p1550(next_val1566,prev_val1563);}if (M0.not(if_res775)!==false) {var if_res776 = loop1562(next_val1566,M1.unsafe_fx_plus_(next_index1564,1));} else {var if_res776 = false;}var if_res777 = if_res776;}return if_res777;};if (loop1562(M1.unsafe_vector_ref(vec1549,start1551),M1.unsafe_fx_plus_(start1551,1))!==false) {if (false!==false) {var if_res778 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1554,dst_start1555,vec1549,start1551,end1552);} else {var if_res778 = M0.rvoid();}var if_res791 = if_res778;} else {if (M1.unsafe_fx_lt__eq_(n1553,3)!==false) {if (false!==false) {var if_res779 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1554,dst_start1555,vec1549,start1551,end1552);} else {var if_res779 = M0.rvoid();}if_res779;if (M1.unsafe_fx_eq_(n1553,1)!==false) {var if_res789 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1553,2)!==false) {var tmp1567 = M1.unsafe_vector_ref(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0));M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0),M1.unsafe_vector_ref(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1)));var if_res788 = M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1),tmp1567);} else {var a1568 = M1.unsafe_vector_ref(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0));var b1569 = M1.unsafe_vector_ref(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1));var c1570 = M1.unsafe_vector_ref(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,2));if (false!==false) {var if_res780 = less_than_p1550(false(b1569),false(a1568));} else {var if_res780 = less_than_p1550(b1569,a1568);}if (if_res780!==false) {if (false!==false) {var if_res781 = less_than_p1550(false(c1570),false(b1569));} else {var if_res781 = less_than_p1550(c1570,b1569);}if (if_res781!==false) {M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0),c1570);var if_res784 = M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,2),a1568);} else {if (false!==false) {var if_res782 = less_than_p1550(false(c1570),false(a1568));} else {var if_res782 = less_than_p1550(c1570,a1568);}if (if_res782!==false) {M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0),b1569);M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1),c1570);var if_res783 = M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,2),a1568);} else {M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0),b1569);var if_res783 = M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1),a1568);}var if_res784 = if_res783;}var if_res787 = if_res784;} else {if (false!==false) {var if_res785 = less_than_p1550(false(c1570),false(a1568));} else {var if_res785 = less_than_p1550(c1570,a1568);}if (if_res785!==false) {M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,0),c1570);M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1),a1568);var if_res786 = M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,2),b1569);} else {M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,1),c1570);var if_res786 = M1.unsafe_vector_set_bang_(dst_vec1554,M1.unsafe_fx_plus_(dst_start1555,2),b1569);}var if_res787 = if_res786;}var if_res788 = if_res787;}var if_res789 = if_res788;}var if_res790 = if_res789;} else {var work_vec1571 = M0.make_vector(n1553+M0.ceiling(n1553/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec1571,0,vec1549,start1551,end1552);generic_sort1329(work_vec1571,less_than_p1550,n1553);var if_res790 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1554,dst_start1555,work_vec1571,0,n1553);}var if_res791 = if_res790;}var if_res792 = if_res791;}var if_res793 = if_res792;}if_res793;if (false!==false) {var if_res794 = dst_vec1554;} else {var if_res794 = M0.rvoid();}return if_res794;};var cl769 = function(vec1572, less_than_p1573, start1574, end1575, getkey1576, cache_keys_p1577) {if (getkey1576!==false) {var if_res795 = M0.not(M0.eq_p(M0.values,getkey1576));} else {var if_res795 = false;}if (if_res795!==false) {var n1578 = end1575-start1574;if (false!==false) {var if_res796 = M0.make_vector(n1578);} else {var if_res796 = vec1572;}var dst_vec1579 = if_res796;if (false!==false) {var if_res797 = 0;} else {var if_res797 = start1574;}var dst_start1580 = if_res797;if (M1.unsafe_fx_eq_(n1578,0)!==false) {var if_res818 = M0.rvoid();} else {if (cache_keys_p1577!==false) {var work_vec1581 = M0.make_vector(n1578+M0.ceiling(n1578/2),true);var loop1582 = function(i1583) {if (M1.unsafe_fx_lt_(i1583,n1578)!==false) {var x1584 = M1.unsafe_vector_ref(vec1572,M1.unsafe_fx_plus_(i1583,start1574));M1.unsafe_vector_set_bang_(work_vec1581,i1583,M0.cons(getkey1576(x1584),x1584));var if_res798 = loop1582(M1.unsafe_fx_plus_(i1583,1));} else {var if_res798 = M0.rvoid();}return if_res798;};loop1582(0);generic_sort_by_key1385(work_vec1581,less_than_p1573,n1578,M1.unsafe_car);var loop1585 = function(i1586) {if (M1.unsafe_fx_lt_(i1586,n1578)!==false) {M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(i1586,dst_start1580),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1581,i1586)));var if_res799 = loop1585(M1.unsafe_fx_plus_(i1586,1));} else {var if_res799 = M0.rvoid();}return if_res799;};var if_res817 = loop1585(0);} else {var loop1587 = function(prev_val1588, next_index1589) {var or_part1590 = M1.unsafe_fx_eq_(next_index1589,end1575);if (or_part1590!==false) {var if_res802 = or_part1590;} else {var next_val1591 = M1.unsafe_vector_ref(vec1572,next_index1589);if (getkey1576!==false) {var if_res800 = less_than_p1573(getkey1576(next_val1591),getkey1576(prev_val1588));} else {var if_res800 = less_than_p1573(next_val1591,prev_val1588);}if (M0.not(if_res800)!==false) {var if_res801 = loop1587(next_val1591,M1.unsafe_fx_plus_(next_index1589,1));} else {var if_res801 = false;}var if_res802 = if_res801;}return if_res802;};if (loop1587(M1.unsafe_vector_ref(vec1572,start1574),M1.unsafe_fx_plus_(start1574,1))!==false) {if (false!==false) {var if_res803 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1579,dst_start1580,vec1572,start1574,end1575);} else {var if_res803 = M0.rvoid();}var if_res816 = if_res803;} else {if (M1.unsafe_fx_lt__eq_(n1578,3)!==false) {if (false!==false) {var if_res804 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1579,dst_start1580,vec1572,start1574,end1575);} else {var if_res804 = M0.rvoid();}if_res804;if (M1.unsafe_fx_eq_(n1578,1)!==false) {var if_res814 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1578,2)!==false) {var tmp1592 = M1.unsafe_vector_ref(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0));M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0),M1.unsafe_vector_ref(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1)));var if_res813 = M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1),tmp1592);} else {var a1593 = M1.unsafe_vector_ref(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0));var b1594 = M1.unsafe_vector_ref(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1));var c1595 = M1.unsafe_vector_ref(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,2));if (getkey1576!==false) {var if_res805 = less_than_p1573(getkey1576(b1594),getkey1576(a1593));} else {var if_res805 = less_than_p1573(b1594,a1593);}if (if_res805!==false) {if (getkey1576!==false) {var if_res806 = less_than_p1573(getkey1576(c1595),getkey1576(b1594));} else {var if_res806 = less_than_p1573(c1595,b1594);}if (if_res806!==false) {M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0),c1595);var if_res809 = M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,2),a1593);} else {if (getkey1576!==false) {var if_res807 = less_than_p1573(getkey1576(c1595),getkey1576(a1593));} else {var if_res807 = less_than_p1573(c1595,a1593);}if (if_res807!==false) {M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0),b1594);M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1),c1595);var if_res808 = M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,2),a1593);} else {M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0),b1594);var if_res808 = M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1),a1593);}var if_res809 = if_res808;}var if_res812 = if_res809;} else {if (getkey1576!==false) {var if_res810 = less_than_p1573(getkey1576(c1595),getkey1576(a1593));} else {var if_res810 = less_than_p1573(c1595,a1593);}if (if_res810!==false) {M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,0),c1595);M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1),a1593);var if_res811 = M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,2),b1594);} else {M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,1),c1595);var if_res811 = M1.unsafe_vector_set_bang_(dst_vec1579,M1.unsafe_fx_plus_(dst_start1580,2),b1594);}var if_res812 = if_res811;}var if_res813 = if_res812;}var if_res814 = if_res813;}var if_res815 = if_res814;} else {var work_vec1596 = M0.make_vector(n1578+M0.ceiling(n1578/2),false);M0.__rjs_quoted__.vector_copy_bang_(work_vec1596,0,vec1572,start1574,end1575);generic_sort_by_key1385(work_vec1596,less_than_p1573,n1578,getkey1576);var if_res815 = M0.__rjs_quoted__.vector_copy_bang_(dst_vec1579,dst_start1580,work_vec1596,0,n1578);}var if_res816 = if_res815;}var if_res817 = if_res816;}var if_res818 = if_res817;}if_res818;if (false!==false) {var if_res819 = dst_vec1579;} else {var if_res819 = M0.rvoid();}var if_res820 = if_res819;} else {var if_res820 = vector_sort_bang_(vec1572,less_than_p1573,start1574,end1575);}return if_res820;};var let_result926 = M0.values(temp925,temp874,$rjs_core.attachProcedureArity(function() {var fixed_lam770 = {'4':cl768,'6':cl769}[arguments.length];if (fixed_lam770!==undefined) {return fixed_lam770.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]));var sort = let_result926.getAt(0);var vector_sort = let_result926.getAt(1);var vector_sort_bang_ = let_result926.getAt(2);var __rjs_quoted__ = {};export { __rjs_quoted__,vector_sort_bang_,vector_sort,sort };