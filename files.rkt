#lang racket/base

(require
 racket #| string-join |#
 racket/list #| last |#)

(define (partial fun . args)
  (lambda x (apply fun (append args x))))

;; ❯ aws s3 ls s3://vesmir/                                                                                                                                                                                                              ─╯
;; PRE 2019-08-Krivan/
;; PRE 2021-12-01_Martin/
;; PRE 2022-08-23-Martin-ZTS/
;; PRE 2022-08-25-Kremnica/

;; ❯ ls --format=single-column /home/bost/Pictures/2022-08-23-Martin-ZTS/
(define martin-zts
  '("2022-08-23"
    "-"
    "Martin-ZTS"
    (
     "20220823_183129.jpg"
     "20220823_183219.jpg"
     "20220823_183316.jpg"
     "20220823_183318.jpg"
     "20220823_183322.jpg"
     "20220823_183509.jpg"
     "20220823_183518.jpg"
     "20220823_183544.jpg"
     "20220823_184039.jpg"
     "20220823_184041.jpg"
     "20220823_184046.jpg"
     "20220823_184218.jpg"
     "20220823_184224.jpg"
     "20220823_184631.jpg"
     "20220823_184949.jpg"
     "20220823_184953.jpg"
     "20220823_185115.jpg"
     "20220823_185740.jpg"
     "20220823_185743.jpg"
     "20220823_185745.jpg"
     "20220823_185747.jpg"
     "20220823_190919.jpg"
     "20220823_191323.jpg"
     "20220823_191327.jpg"
     "20220823_191329.jpg"
     "20220823_191441.jpg"
     "20220823_191613.jpg"
     "20220823_192112.jpg"
     "20220823_192154.jpg"
     "20220823_192239.jpg"
     "20220823_192245.jpg"
     "20220823_192333.jpg"
     "20220823_192336.jpg"
     "20220823_192346.jpg"
     "20220823_192528.jpg"
     "20220823_192603.jpg"
     "20220823_192702.jpg"
     "20220823_192708.jpg"
     "20220823_192750.jpg"
     "20220823_192834.jpg"
     "20220823_192842.jpg"
     "20220823_192915.jpg"
     "20220823_192921.jpg"
     "20220823_193133.jpg"
     "20220823_193137.jpg"
     "20220823_193141.jpg"
     "20220823_193145.jpg"
     "20220823_193247.jpg"
     "20220823_193249.jpg"
     "20220823_193250.jpg"
     "20220823_193551.jpg"
     "20220823_193620.jpg"
     )))

;; > aws s3 ls s3://vesmir/2022-08-25-Kremnica/ | count
(define kremnica
  '("2022-08-25"
    "_"
    "Kremnica"
    (
     "20220825_105431.jpg"
     "20220825_105446.jpg"
     "20220825_105541.jpg"
     "20220825_105602.jpg"
     "20220825_105724.jpg"
     "20220825_105813.jpg"
     "20220825_111552.jpg"
     "20220825_111732.jpg"
     "20220825_111739.jpg"
     "20220825_112054.jpg"
     "20220825_112059.jpg"
     "20220825_112158.jpg"
     "20220825_112445.jpg"
     "20220825_113022.jpg"
     "20220825_113044.jpg"
     "20220825_113054.jpg"
     "20220825_113058.jpg"
     "20220825_113915.jpg"
     "20220825_114029.jpg"
     "20220825_114447.jpg"
     "20220825_114634.jpg"
     "20220825_115540.jpg"
     "20220825_115654.jpg"
     "20220825_115658.jpg"
     "20220825_115739.jpg"
     "20220825_115742.jpg"
     "20220825_115801.jpg"
     "20220825_123156.jpg"
     "20220825_123200.jpg"
     "20220825_123205.jpg"
     "20220825_123220.jpg"
     "20220825_123226.jpg"
     "20220825_123230.jpg"
     "20220825_123239.jpg"
     "20220825_123247.jpg"
     "20220825_123249.jpg"
     "20220825_123258.jpg"
     "20220825_125638.jpg"
     "20220825_125643.jpg"
     "20220825_130408.jpg"
     "20220825_130541.jpg"
     "20220825_130647.jpg"
     "20220825_130651.jpg"
     "20220825_130814.jpg"
     "20220825_131632.jpg"
     "20220825_144520.jpg"
     "20220825_145223.jpg"
     "20220825_145230.jpg"
     "20220825_150903.jpg"
     "20220825_150911.jpg"
     "20220825_153331.jpg"
     "20220825_155909.jpg"
     "20220825_155952.jpg"
     "20220825_160000.jpg"
     "20220825_160053.jpg"
     "20220825_162030.jpg"
     )))

;; > aws s3 ls s3://vesmir/2021-12-01_Martin/
(define martin
  '("2021-12-01"
    "_"
    "Martin"
    (
     "20211222_141930.jpg"
     "20211222_141940.jpg"
     "20211222_141944.jpg"
     "20211222_141949.jpg"
     "20211222_142041.jpg"
     "20211222_142045.jpg"
     "20211222_142121.jpg"
     "20211222_142126.jpg"
     "20211222_142130.jpg"
     "20211222_142134.jpg"
     "20211222_142336.jpg"
     "20211222_142340.jpg"
     "20211222_142346.jpg"
     "20211222_143144.jpg"
     "20211222_143149.jpg"
     "20211222_143155.jpg"
     "20211222_143157.jpg"
     "20211222_143504.jpg"
     "20211222_143542.jpg"
     "20211222_143549.jpg"
     "20211222_143602.jpg"
     "20211222_143618.jpg"
     "20211222_143641.jpg"
     "20211222_143940.jpg"
     "20211222_144036.jpg"
     "20211222_144038.jpg"
     "20211222_144043.jpg"
     "20211222_144105.jpg"
     "20211222_144108.jpg"
     "20211222_144230.jpg"
     "20211222_144234.jpg"
     "20211222_144255.jpg"
     "20211222_144300.jpg"
     "20211222_144405.jpg"
     "20211222_144408.jpg"
     "20211222_144411.jpg"
     "20211222_144505.jpg"
     "20211222_144547.jpg"
     "20211222_144718.jpg"
     "20211222_144727.jpg"
     "20211222_144735.jpg"
     "20211222_144740.jpg"
     "20211222_144742.jpg"
     "20211222_144859.jpg"
     "20211222_144902.jpg"
     "20211222_144906.jpg"
     "20211222_144948.jpg"
     "20211222_144954.jpg"
     "20211222_145224.jpg"
     "20211222_145347.jpg"
     "20211222_145449.jpg"
     "20211222_145451.jpg"
     "20211222_145459.jpg"
     "20211222_145511.jpg"
     "20211222_145513.jpg"
     "20211223_153231.jpg"
     "20211223_153235.jpg"
     "20211223_153241.jpg"
     "20211223_153305.jpg"
     "20211223_153415.jpg"
     "20211224_144607.jpg"
     "20211224_144610.jpg"
     "20211224_144620.jpg"
     "20211224_144905.jpg"
     "20211224_144931.jpg"
     "20211224_145050.jpg"
     "20211224_145133.jpg"
     "20211224_145159.jpg"
     "20211224_145206.jpg"
     "20211224_145218.jpg"
     "20211224_145452.jpg"
     "20211224_145453.jpg"
     "20211224_145553.jpg"
     "20211224_145740.jpg"
     "20211224_145938.jpg"
     "20211225_145145.jpg"
     "20211226_151957.jpg"
     "20211226_152003.jpg"
     "20211226_152006.jpg"
     "20211226_152012.jpg"
     "20211226_152013.jpg"
     "20211226_152114.jpg"
     "20211226_152117.jpg"
     "20211226_152226.jpg"
     "20211226_152228.jpg"
     "20211226_152230.jpg"
     "20211226_152236.jpg"
     "20211226_152325.jpg"
     "20211226_152503.jpg"
     "20211226_152508.jpg"
     "20211226_152511.jpg"
     "20211226_152514.jpg"
     "20211226_152540.jpg"
     "20211226_152542.jpg"
     "20211226_152546.jpg"
     "20211226_152549.jpg"
     "20211226_153258.jpg"
     "20211226_153300.jpg"
     "20211226_154051_002.jpg"
     "20211226_154051_006.jpg"
     "20211226_154051_015.jpg"
     "20211226_154051_023.jpg"
     "20211226_154051_028.jpg"
     "20211226_154107.jpg"
     "20211226_154110.jpg"
     "20211226_154112.jpg"
     "20211226_154114.jpg"
     "20211226_154117.jpg"
     "20211226_154248.jpg"
     "20211226_154250.jpg"
     "20211226_154307.jpg"
     "20211226_154308.jpg"
     "20211226_154310.jpg"
     "20211226_155933.jpg"
     "20211226_155937.jpg"
     "20211226_155939.jpg"
     "20211226_160958.jpg"
     )))

(define krivan
  '(
    "2019-08"
    "-"
    "Krivan"
    (
     "IMG_20190815_115210.jpg"
     "IMG_20190815_133347.jpg"
     ;; "IMG_20190815_133352.jpg"
     "IMG_20190815_133424.jpg"
     "IMG_20190815_142555.jpg"
     "IMG_20190815_142600.jpg"
     "IMG_20190815_142606.jpg"
     "IMG_20190815_142612.jpg"
     "IMG_20190815_144123_1CS.jpg"
     ;; "IMG_20190815_144123_10CS.jpg"
     ;; "IMG_20190815_144123_11CS.jpg"
     ;; "IMG_20190815_144123_12CS.jpg"
     ;; "IMG_20190815_144123_13CS.jpg"
     ;; "IMG_20190815_144123_14CS.jpg"
     ;; "IMG_20190815_144123_15CS.jpg"
     ;; "IMG_20190815_144123_16CS.jpg"
     ;; "IMG_20190815_144123_17CS.jpg"
     ;; "IMG_20190815_144123_18CS.jpg"
     ;; "IMG_20190815_144123_19CS.jpg"
     ;; "IMG_20190815_144123_2CS.jpg"
     ;; "IMG_20190815_144123_20CS.jpg"
     ;; "IMG_20190815_144123_21CS.jpg"
     ;; "IMG_20190815_144123_22CS.jpg"
     ;; "IMG_20190815_144123_23CS.jpg"
     ;; "IMG_20190815_144123_24CS.jpg"
     ;; "IMG_20190815_144123_25CS.jpg"
     ;; "IMG_20190815_144123_26CS.jpg"
     ;; "IMG_20190815_144123_27CS.jpg"
     ;; "IMG_20190815_144123_28CS.jpg"
     ;; "IMG_20190815_144123_29CS.jpg"
     ;; "IMG_20190815_144123_3CS.jpg"
     ;; "IMG_20190815_144123_30CS.jpg"
     ;; "IMG_20190815_144123_31CS.jpg"
     ;; "IMG_20190815_144123_32CS.jpg"
     ;; "IMG_20190815_144123_33CS.jpg"
     ;; "IMG_20190815_144123_34CS.jpg"
     ;; "IMG_20190815_144123_35CS.jpg"
     ;; "IMG_20190815_144123_36CS.jpg"
     ;; "IMG_20190815_144123_37CS.jpg"
     ;; "IMG_20190815_144123_38CS.jpg"
     ;; "IMG_20190815_144123_39CS.jpg"
     ;; "IMG_20190815_144123_4CS.jpg"
     ;; "IMG_20190815_144123_40CS.jpg"
     ;; "IMG_20190815_144123_5CS.jpg"
     ;; "IMG_20190815_144123_6CS.jpg"
     ;; "IMG_20190815_144123_7CS.jpg"
     ;; "IMG_20190815_144123_8CS.jpg"
     ;; "IMG_20190815_144123_9CS.jpg"
     "IMG_20190815_144133_1CS.jpg"
     ;; "IMG_20190815_144133_10CS.jpg"
     ;; "IMG_20190815_144133_11CS.jpg"
     ;; "IMG_20190815_144133_12CS.jpg"
     ;; "IMG_20190815_144133_13CS.jpg"
     ;; "IMG_20190815_144133_14CS.jpg"
     ;; "IMG_20190815_144133_15CS.jpg"
     ;; "IMG_20190815_144133_16CS.jpg"
     ;; "IMG_20190815_144133_17CS.jpg"
     ;; "IMG_20190815_144133_18CS.jpg"
     ;; "IMG_20190815_144133_19CS.jpg"
     ;; "IMG_20190815_144133_2CS.jpg"
     ;; "IMG_20190815_144133_20CS.jpg"
     ;; "IMG_20190815_144133_21CS.jpg"
     ;; "IMG_20190815_144133_22CS.jpg"
     ;; "IMG_20190815_144133_23CS.jpg"
     ;; "IMG_20190815_144133_24CS.jpg"
     ;; "IMG_20190815_144133_25CS.jpg"
     ;; "IMG_20190815_144133_26CS.jpg"
     ;; "IMG_20190815_144133_27CS.jpg"
     ;; "IMG_20190815_144133_28CS.jpg"
     ;; "IMG_20190815_144133_29CS.jpg"
     ;; "IMG_20190815_144133_3CS.jpg"
     ;; "IMG_20190815_144133_30CS.jpg"
     ;; "IMG_20190815_144133_31CS.jpg"
     ;; "IMG_20190815_144133_32CS.jpg"
     ;; "IMG_20190815_144133_33CS.jpg"
     ;; "IMG_20190815_144133_34CS.jpg"
     ;; "IMG_20190815_144133_35CS.jpg"
     ;; "IMG_20190815_144133_36CS.jpg"
     ;; "IMG_20190815_144133_37CS.jpg"
     ;; "IMG_20190815_144133_38CS.jpg"
     ;; "IMG_20190815_144133_4CS.jpg"
     ;; "IMG_20190815_144133_5CS.jpg"
     ;; "IMG_20190815_144133_6CS.jpg"
     ;; "IMG_20190815_144133_7CS.jpg"
     ;; "IMG_20190815_144133_8CS.jpg"
     ;; "IMG_20190815_144133_9CS.jpg"
     "IMG_20190815_144206.jpg"
     "IMG_20190815_144227.jpg"
     "IMG_20190815_144306.jpg"
     "IMG_20190815_145030.jpg"
     "IMG_20190815_155543.jpg"
     )))

(define (get-dir record) (string-join (take record 3) ""))
(define (get-files record) (last record))

(define kremnica-dir (get-dir kremnica))
(define files-kremnica (get-files kremnica))

(define martin-zts-dir (get-dir martin-zts))
(define files-martin-zts (get-files martin-zts))

(define martin-dir (get-dir martin))
(define files-martin (get-files martin))

(define krivan-dir (get-dir krivan))
(define files-krivan (get-files krivan))

(provide (all-defined-out))
#;(provide tags)
